<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>邹雷</title>
  <subtitle>刨过的坑,自己慢慢来填</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://ficapy.com/"/>
  <updated>2016-05-24T16:07:48.000Z</updated>
  <id>http://ficapy.com/</id>
  
  <author>
    <name>Ficapy</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>我的网络学习工具</title>
    <link href="http://ficapy.com/2016/05/24/my_network_learn_tools/"/>
    <id>http://ficapy.com/2016/05/24/my_network_learn_tools/</id>
    <published>2016-05-24T13:26:52.000Z</published>
    <updated>2016-05-24T16:07:48.000Z</updated>
    
    <content type="html">&lt;p&gt;虽然一直在写web后台，可是对底层网络知道的也不多。毕竟这些东西经过层层封装，到web框架时给我们提供的内容已经和TCP/IP相隔很远了。可是作为一个有好奇心的人。我还是会仔细去刨根问底，得到心中的答案。梳理清楚web后台开发中所接触的种种东西。以前总想把东西写简单写点大而全的东西，可是底层网络涉及到的内容真是太特么复杂了。我也只能慢慢来了。工欲善其事必先利其器，本篇列出学习过程中用到的一些网络工具及资源(内容不定期更新)&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;软件&quot;&gt;&lt;a href=&quot;#软件&quot; class=&quot;headerlink&quot; title=&quot;软件&quot;&gt;&lt;/a&gt;软件&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;tcpdump/dumpcap/wireshark&lt;/p&gt;
&lt;p&gt; 这应该是最广为人知的数据嗅探工具了，他们之间的区别和联系在stackexchange有一个回答&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;wireshark - powerfull sniffer which can decode lots of protocols, lots of filters.&amp;#10; &amp;#10;tshark - command line version of wireshark&amp;#10; &amp;#10;dumpcap (part of wireshark) - can only capture traffic and can be used by wireshark / tshark&amp;#10; &amp;#10;tcpdump - limited protocol decoding but available on most *NIX platforms&amp;#10; &amp;#10;ettercap - used for injecting traffic not sniffing&amp;#10; &amp;#10;All tools use libpcap (on windows winpcap) for sniffing. Wireshark / tshark / dumpcap can use tcpdump filter syntax as capture filter.&amp;#10; &amp;#10;As tcpdump is available on most *NIX system I usually use tcpdump. Depending on the problem I sometimes use tcpdump to capture traffic and write it to a file and the later use wireshark to analyze it. If available I use tshark but if the problem gets more complicated I still like to write the data to a file and then use Wireshark for analysis.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt; 比较牛的是以上产品均出自The Tcpdump team组织，更牛的是查看github统计数据得知大概主要仅有四个人维护。。。。。。&lt;br&gt; 作为低端用户本人使用tcpdump和wireshark就够了。为了减少数据包。我一般会用vagrant开虚拟机抓包查看请求。使用&lt;code&gt;vagrant ssh -c &amp;quot;sudo tcpdump -i eth0 -s 0 -U -w - not port 22 and tcp&amp;quot; -- -ntt| wireshark -k -i -&lt;/code&gt; 或者 &lt;code&gt;vagrant ssh -c &amp;quot;sudo dumpcap -P -i any -w - -f &amp;#39;not tcp port 22 and tcp&amp;#39;&amp;quot; -- -ntt | wireshark -k -i -&lt;/code&gt; 均可。一般dumpcap没有预装~~。把tcpdump的参数解释下,-i(interface)表示监听某一个接口或全部，-s表示单个数据包最大多少，很明显0代表没限制，-U设置每个包输出为一行，-w保存。后面即为过滤表达式，注意:一定要加上&lt;code&gt;-- -ntt&lt;/code&gt;不加上wireshark会报错，至于为什么我还真没搞明白。。。。很明显使用tcpdump和wireshark最基本的技能是学会过滤表达式的语法，否则过于嘈杂的信息流马上会触发密集恐惧症吧。注意:wireshark中capture filter和display filter是决然不同的语法。快速入门请查看&lt;a href=&quot;http://packetlife.net/media/library/12/tcpdump.pdf&quot;&gt;capture filter速查表&lt;/a&gt;和&lt;a href=&quot;http://packetlife.net/media/library/13/Wireshark_Display_Filters.pdf&quot;&gt;display filter速查表&lt;/a&gt;&lt;/p&gt;
&lt;p&gt; 是否对嗅探的原理感到灰常好奇。一图胜千言。希望下面这张图能够初步解决你的疑惑(谷歌搜索图片libpcap)&lt;/p&gt;
&lt;p&gt; &lt;img src=&quot;https://ficapy.b0.upaiyun.com/blogimg/packetfilter.png&quot; alt=&quot;嗅探原理&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.secdev.org/projects/scapy/&quot;&gt;scapy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt; 大概可以看成是python对libpcap的封装。可以不仅仅可以嗅探，还可以直接构建一个包发送出去(以上wireshark是不支持的)，所支持的协议也是灰常之多。可谓是学习之利器。可以查看&lt;a href=&quot;http://www.secdev.org/projects/scapy/demo.html&quot;&gt;官方DEMO体验下&lt;/a&gt;，不过此软件相对的依赖较多。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.dest-unreach.org/socat/&quot;&gt;socat&lt;/a&gt;&lt;/p&gt;
&lt;p&gt; 和netcat是一类，据说更强大。至于有多强大我就不知道了。有待以后挖掘。本人也就按照tldr上的示例按需要进行体验了下&lt;code&gt;socat - TCP-LISTEN:8080,fork&lt;/code&gt;感觉是挺好用哒&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/jkbrzt/httpie&quot;&gt;httpie&lt;/a&gt;&lt;/p&gt;
&lt;p&gt; 某一天我发现github上python类目star数目最多的是这货。然后我就试用了下。。。。。对于调试来说易用性简直秒杀curl无数倍(仅从调试角度)。完全就是python里面requests和urllib的对比哇。使用灰常简单，比如&lt;code&gt;http g.cn -v --debug&lt;/code&gt;(读者不妨亲自体验下),比较值得关注的是httpie的session使用以及它支持配置文件，详情请查看文档&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;tldr&lt;/p&gt;
&lt;p&gt; 该软件不属于该类别，可是命令行对于刚接触的新手是不那么有好的。比如tcp -h得到&lt;/p&gt;
 &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;    tcpdump version 4.7.3 -- Apple version 67&amp;#10;libpcap version 1.5.3 - Apple version 54&amp;#10;Usage: tcpdump [-aAbdDefhHIJKlLnNOpqRStuUvxX#] [ -B size ] [ -c count ]&amp;#10;&amp;#9;&amp;#9;[ -C file_size ] [ -E algo:secret ] [ -F file ] [ -G seconds ]&amp;#10;&amp;#9;&amp;#9;[ -i interface ] [ -j tstamptype ] [ -M secret ]&amp;#10;&amp;#9;&amp;#9;[ -Q metadata-filter-expression ]&amp;#10;&amp;#9;&amp;#9;[ -r file ] [ -s snaplen ] [ -T type ] [ --version ] [ -V file ]&amp;#10;&amp;#9;&amp;#9;[ -w file ] [ -W filecount ] [ -y datalinktype ] [ -z command ]&amp;#10;&amp;#9;&amp;#9;[ -Z user ] [ expression ]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt; 也是灰常容易让人摸不着头脑,&lt;code&gt;tldr tcpdump&lt;/code&gt;可以给出常用的最基本的用法。对于初学者非常友好，能够最开始就体验到神器的强大，这样至少兴趣是产生了吧~~~&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;资源&quot;&gt;&lt;a href=&quot;#资源&quot; class=&quot;headerlink&quot; title=&quot;资源&quot;&gt;&lt;/a&gt;资源&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://packetlife.net/library/cheat-sheets/&quot;&gt;抓包专业资料较多,cheat-sheet值得一看。另外此博客友链也可以看看&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://coolshell.cn/articles/11564.html&quot;&gt;酷 壳–TCP 的那些事儿&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;相关资料&quot;&gt;&lt;a href=&quot;#相关资料&quot; class=&quot;headerlink&quot; title=&quot;相关资料&quot;&gt;&lt;/a&gt;相关资料&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Pcap&quot;&gt;libpcap维基百科&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://networkengineering.stackexchange.com/questions/10073/difference-between-sniffer-tools&quot;&gt;tcpdump/dumpcap区别&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://ask.wireshark.org/questions/6660/what-is-the-difference-between-capture-filter-and-display-filter&quot;&gt;capture filter和display filter不同&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://binxian.chetui.org/?p=129&quot;&gt;基于libpcap的sniffer实现&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;虽然一直在写web后台，可是对底层网络知道的也不多。毕竟这些东西经过层层封装，到web框架时给我们提供的内容已经和TCP/IP相隔很远了。可是作为一个有好奇心的人。我还是会仔细去刨根问底，得到心中的答案。梳理清楚web后台开发中所接触的种种东西。以前总想把东西写简单写点大而全的东西，可是底层网络涉及到的内容真是太特么复杂了。我也只能慢慢来了。工欲善其事必先利其器，本篇列出学习过程中用到的一些网络工具及资源(内容不定期更新)&lt;/p&gt;
    
    </summary>
    
      <category term="network" scheme="http://ficapy.com/categories/network/"/>
    
    
  </entry>
  
  <entry>
    <title>openwrt刷机常识</title>
    <link href="http://ficapy.com/2016/05/05/openwrt_recovery_you_need_to_know/"/>
    <id>http://ficapy.com/2016/05/05/openwrt_recovery_you_need_to_know/</id>
    <published>2016-05-05T12:59:17.000Z</published>
    <updated>2016-05-05T15:14:05.000Z</updated>
    
    <content type="html">&lt;p&gt;openwrt刷机教程非常多，可是很多的让人搞不清概念。不明白到底发生了什么，为什么会发生问题。我们最好能在遇到问题前预知为什么会发生问题。以下内容是本人花费一天时间收集到的一些概念内容。因为不是特别了解。可能理解会产生偏差，如有错误请指正。文末会用简短的内容讲一下笔者的刷机过程。&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;BootLoader&quot;&gt;&lt;a href=&quot;#BootLoader&quot; class=&quot;headerlink&quot; title=&quot;BootLoader&quot;&gt;&lt;/a&gt;BootLoader&lt;/h2&gt;&lt;p&gt;一般刷机教程中不大会出现该名词，可是它其实是非常重要的。它和我们常听到的BIOS是一类程序–&lt;code&gt;引导程序&lt;/code&gt;，在我们给电脑重装系统的时候通常都是开机的时候按特定的功能键然后进入图形界面和BIOS交互。openwrt刷机中其实也非常类似，只是交互的方式不同→→→直接造成了下面几个名词的产生&lt;/p&gt;
&lt;h2 id=&quot;不死UBoot&quot;&gt;&lt;a href=&quot;#不死UBoot&quot; class=&quot;headerlink&quot; title=&quot;不死UBoot&quot;&gt;&lt;/a&gt;不死UBoot&lt;/h2&gt;&lt;p&gt;即为上面描述的&lt;code&gt;引导程序&lt;/code&gt;的一种(即还有别的引导程序)。试想我们给电脑装系统的时候。无论怎么失败，都是可以进入BIOS设置，然后一次次的重装系统的。可是有的openwrt的引导程序则不同。他们只给你一次失败的机会。如果失败就要用特殊的手段重装(比如TTL串口)，不死Uboot即相对那种失败就死的Bootloader而言的(其实感觉这应该是一个理所当然的自带功能,然而并没有)。不死UBoot提供这样的交互→→→如果刷机失败，无法ssh进入到openwrt系统，那么Uboot提供一个web服务，路由器运行的时候直接通过LAN接口连接电脑，然后通过web页面上传固件刷机。这样无论刷固件如何失败。都可以反复刷固件。&lt;code&gt;可以看出不死Uboot它只是提供了一种比较方便的和引导程序交互的途径&lt;/code&gt;。其他常见途径还包括自动读取U盘里面的固件、使用TTL串口等&lt;/p&gt;
&lt;h2 id=&quot;TTL刷机&quot;&gt;&lt;a href=&quot;#TTL刷机&quot; class=&quot;headerlink&quot; title=&quot;TTL刷机&quot;&gt;&lt;/a&gt;TTL刷机&lt;/h2&gt;&lt;p&gt;听起来很高大上有没有，其实也仅仅只是和BootLoader进行交互的一种手段。所以如果你感觉它能解救任何砖机那就大错特错了。因为它需要设备预留口而且需要TTL串口设备，所以普通玩家是不会太有机会通过该方法刷机的，不死Uboot通过web交互，TTL刷机通过TTL串口。所以他们并没有实质的区别，都是和boot进行交互。&lt;/p&gt;
&lt;h2 id=&quot;mtd&quot;&gt;&lt;a href=&quot;#mtd&quot; class=&quot;headerlink&quot; title=&quot;mtd&quot;&gt;&lt;/a&gt;mtd&lt;/h2&gt;&lt;p&gt;Memory_Technology_Device,如果执行命令刷机，那么在教程中mtd这个词并不陌生，它提供&lt;code&gt;对文件系统读写的接口&lt;/code&gt;（描述可能不准确）。和linux中的dd差不多吧&lt;/p&gt;
&lt;h2 id=&quot;锁UBoot&quot;&gt;&lt;a href=&quot;#锁UBoot&quot; class=&quot;headerlink&quot; title=&quot;锁UBoot&quot;&gt;&lt;/a&gt;锁UBoot&lt;/h2&gt;&lt;p&gt;即限制mtd去擦写u-boot分区。如果执行命令写入的时候提示被锁就是锁了(好像是废话)。解决办法就是先刷一个允许写入u-boot分区的固件，当然锁住也不是完全没道理的，因为刷uboot是刷openwrt中危险性最高的一步。当然也有恶心的产品同时限制你擦写固件分区，比如极路由3。遇上这种普通方法无解了。既然刷uboot风险高，那么为何要刷呢。我想因为是自带的BootLoader不支持不死这种方式造成的，或者官方通过boot限制安装非官方固件&lt;/p&gt;
&lt;h2 id=&quot;Flash-内存等参数&quot;&gt;&lt;a href=&quot;#Flash-内存等参数&quot; class=&quot;headerlink&quot; title=&quot;Flash/内存等参数&quot;&gt;&lt;/a&gt;Flash/内存等参数&lt;/h2&gt;&lt;p&gt;下载玩家自制固件的时候需要知道自己的设备参数，可以通过&lt;a href=&quot;https://wiki.openwrt.org/toh/start&quot;&gt;openwrt官方查找&lt;/a&gt;。ssh进入openwrt可以通过free查看内存大小。注意通过df -h查看到的并不是Flash大小，至于为什么我也不大明白。&lt;/p&gt;
&lt;h2 id=&quot;刷机小总结&quot;&gt;&lt;a href=&quot;#刷机小总结&quot; class=&quot;headerlink&quot; title=&quot;刷机小总结&quot;&gt;&lt;/a&gt;刷机小总结&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;ssh进入openwrt，小心谨慎使用mtd刷不死uboot(因为该步成功后刷固件失败也可安然无恙，so该步收益大于风险)，当然要是你这一步就失败了。机器基本就变砖了。因为TTL这类科技也是和boot交互的。boot都被刷挂了。基本没戏了，只能通过专用设备写入来解决了&lt;/li&gt;
&lt;li&gt;有了不死uboot这类科技护体，意味着你只要不要乱作死去随便反复刷boot那么反反复复刷固件都是没事的，即使刷固件变砖。另:有没有看到网上很多教程都写的通过LAN口来刷固件，其实看完上面的一些概念，是完全不需要这样的(因为有的笔记本并没有LAN接口)。进入到openwrt里面通过mtd刷固件和进入到uboot的web页面并没有任何区别&lt;/li&gt;
&lt;li&gt;选择固件的时候可以在淘宝上找店主。毕竟别人存货多XD&lt;/li&gt;
&lt;li&gt;网上找几个和自己一样设备的教程贴，思索下别人的操作发生了什么。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;原厂固件和sysupgrade的区别见参考资料最后一个链接&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;笔者刷机过程&quot;&gt;&lt;a href=&quot;#笔者刷机过程&quot; class=&quot;headerlink&quot; title=&quot;笔者刷机过程&quot;&gt;&lt;/a&gt;笔者刷机过程&lt;/h2&gt;&lt;p&gt;因为我的路由出厂就是不死uboot，所以我在收集了一天资料之后，进行了如下操作&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;下载固件firmware&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;scp firmware root@&lt;span class=&quot;number&quot;&gt;192.168&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;8.1&lt;/span&gt;:/tmp&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mtd -r write /tmp/firmware firmware&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;over 然后等两三分钟就好了，当然我凭着好奇的心理随便刷了几个别的固件。很不出意外的变砖了。然后通过LAN连接，再刷就好了&lt;/p&gt;
&lt;h2 id=&quot;参考资料&quot;&gt;&lt;a href=&quot;#参考资料&quot; class=&quot;headerlink&quot; title=&quot;参考资料&quot;&gt;&lt;/a&gt;参考资料&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://www.shuyz.com/fix-openwrt-connection-with-putty.html&quot;&gt;关于串口TTL、USB转接实例(含图)&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.right.com.cn/forum/thread-154561-1-1.html&quot;&gt;关于刷UBoot&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.v2ex.com/t/160078&quot;&gt;不死uboot在v2ex上的一个讨论&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/xcoderone/article/details/48030771&quot;&gt;TTL线刷原理&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.right.com.cn/forum/forum.php?mod=viewthread&amp;amp;tid=54647#pid392795&quot;&gt;另一个TTL线刷原理&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/xcoderone/article/details/48031279&quot;&gt;再来一个TTL线刷实例&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://wiki.openwrt.org/doc/techref/bootloader&quot;&gt;关于BootLoader&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.atime.me/research/openwrt-pandorabox-introduction.html&quot;&gt;初探OpenWrt&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Memory_Technology_Device&quot;&gt;MTD维基百科介绍&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.crifan.com/files/doc/docbook/linux_nand_driver/release/webhelp/mtd_memory_technology_device.html&quot;&gt;MTD扩展阅读&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://myop.cf/archives/546&quot;&gt;如果你看不懂这篇文章，那么全篇你是白看了&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;openwrt刷机教程非常多，可是很多的让人搞不清概念。不明白到底发生了什么，为什么会发生问题。我们最好能在遇到问题前预知为什么会发生问题。以下内容是本人花费一天时间收集到的一些概念内容。因为不是特别了解。可能理解会产生偏差，如有错误请指正。文末会用简短的内容讲一下笔者的刷机过程。&lt;/p&gt;
    
    </summary>
    
      <category term="伪技术" scheme="http://ficapy.com/categories/%E4%BC%AA%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>阿里云OSS绑定letsencrypt证书</title>
    <link href="http://ficapy.com/2016/03/11/letsencrypt_aliyun_oss/"/>
    <id>http://ficapy.com/2016/03/11/letsencrypt_aliyun_oss/</id>
    <published>2016-03-11T10:28:34.000Z</published>
    <updated>2016-03-12T14:02:15.000Z</updated>
    
    <content type="html">&lt;p&gt;继上篇文章之后，讲解阿里云OSS绑定letsencrypt。其实网上讲述letencrypt使用方法的文章非常之多。本篇文章笔者将会讲解一些其他的比较浅显的原理。即为什么要这样做。该步骤到底发生了什么，对于实际操作步骤，请参照最后的参考链接。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;关于RSA的那些事儿&quot;&gt;&lt;a href=&quot;#关于RSA的那些事儿&quot; class=&quot;headerlink&quot; title=&quot;关于RSA的那些事儿&quot;&gt;&lt;/a&gt;关于RSA的那些事儿&lt;/h2&gt;&lt;p&gt;web安全离不开RSA非对称加密算法，说真的数学原理我没看明白。仅仅知道最后生成的公钥和私钥其实都是一对数字。可是我们经常看到生成的公私钥是字符串。其实它只是经过了一些编码(下见参考)。然后一个密钥用来加密一个密钥用来解密（意味着公私钥都能加密）。其次是签名，签名就是将需要签名的信息使用信息摘要算法（比如sha256）获取摘要。然后使用私钥进行加密，对方使用相同的步骤算出摘要，然后使用公钥对你加密的信息进行解密。如果解密的信息和算出摘要的信息相同则证明该信息完整且为对方发出。其实和HMAC相当的相似，只不过HMAC使用对称密钥。再其实。签名算法都差不多这样OVER&lt;/p&gt;
&lt;h2 id=&quot;关于letsencrypt的内部流程&quot;&gt;&lt;a href=&quot;#关于letsencrypt的内部流程&quot; class=&quot;headerlink&quot; title=&quot;关于letsencrypt的内部流程&quot;&gt;&lt;/a&gt;关于letsencrypt的内部流程&lt;/h2&gt;&lt;p&gt;本节参考&lt;a href=&quot;https://github.com/diafygi/acme-tiny/blob/master/acme_tiny.py&quot;&gt;acme-tiny脚本&lt;/a&gt;。过程中最重要的为用户认证流程。普遍的用户认证流程为获取token，即用户登录获取token，后续的API请求和该token关联。然而letsencrypt的流程非常不同(主要因为它不需要去letsencrypt网站进行注册)。一个独立的账户依靠本地生成证书来认证&lt;code&gt;openssl genrsa 4096 &amp;gt; account.key&lt;/code&gt;，该证书为PEM证书。即文件中含有公钥和私钥。对于所有的API请求都会要求签名。&lt;br&gt;签名代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;_send_signed_request&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(url, payload)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    payload64 = _b64(json.dumps(payload).encode(&lt;span class=&quot;string&quot;&gt;&#39;utf8&#39;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    protected = copy.deepcopy(header)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    protected[&lt;span class=&quot;string&quot;&gt;&quot;nonce&quot;&lt;/span&gt;] = urlopen(CA + &lt;span class=&quot;string&quot;&gt;&quot;/directory&quot;&lt;/span&gt;).headers[&lt;span class=&quot;string&quot;&gt;&#39;Replay-Nonce&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    protected64 = _b64(json.dumps(protected).encode(&lt;span class=&quot;string&quot;&gt;&#39;utf8&#39;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    proc = subprocess.Popen([&lt;span class=&quot;string&quot;&gt;&quot;openssl&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;dgst&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;-sha256&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;-sign&quot;&lt;/span&gt;, account_key],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    out, err = proc.communicate(&lt;span class=&quot;string&quot;&gt;&quot;&amp;#123;0&amp;#125;.&amp;#123;1&amp;#125;&quot;&lt;/span&gt;.format(protected64, payload64).encode(&lt;span class=&quot;string&quot;&gt;&#39;utf8&#39;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; proc.returncode != &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;raise&lt;/span&gt; IOError(&lt;span class=&quot;string&quot;&gt;&quot;OpenSSL Error: &amp;#123;0&amp;#125;&quot;&lt;/span&gt;.format(err))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    data = json.dumps(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;header&quot;&lt;/span&gt;: header, &lt;span class=&quot;string&quot;&gt;&quot;protected&quot;&lt;/span&gt;: protected64,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;payload&quot;&lt;/span&gt;: payload64, &lt;span class=&quot;string&quot;&gt;&quot;signature&quot;&lt;/span&gt;: _b64(out),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        resp = urlopen(url, data.encode(&lt;span class=&quot;string&quot;&gt;&#39;utf8&#39;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; resp.getcode(), resp.read()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;except&lt;/span&gt; IOError &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; e:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; getattr(e, &lt;span class=&quot;string&quot;&gt;&quot;code&quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;), getattr(e, &lt;span class=&quot;string&quot;&gt;&quot;read&quot;&lt;/span&gt;, e.__str__)()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;可以看出从证书中取出公钥。然后依照&lt;code&gt;公钥+(公钥+服务器随机数+信息)+第二部分的签名&lt;/code&gt;证明自己的身份。即：一个公钥对应一个身份。&lt;br&gt;后续的流程就是：①身份注册→→→→②获取域名列表→→→→(③发送http挑战请求→→→→④根据返回内容建立文件→→→→⑤自身测试下载→→→→⑥发送挑战测试请求)→→→→⑦提交csr文件返回签名证书&lt;/p&gt;
&lt;h2 id=&quot;移植到OSS上&quot;&gt;&lt;a href=&quot;#移植到OSS上&quot; class=&quot;headerlink&quot; title=&quot;移植到OSS上&quot;&gt;&lt;/a&gt;移植到OSS上&lt;/h2&gt;&lt;p&gt;网上大多数教程都是部署到服务器。和部署到OSS最大的差别在于上面的划括号的部分。部署在服务器上是在服务器生成文件，如果部署到阿里云OSS，则应该上传文件到阿里云。没有别的区别。另外还可以使用DNS挑战。如果你使用cloudxns作DNS解析。也可以使用它，从而通过验证，另外一点。生成的证书文件需要在阿里云CDN设置页面设置。&lt;code&gt;然而！！！阿里云并没有提供API接口！！！&lt;/code&gt;，意味着需要手工操作。然而至少每3个月更新一次还是很频繁的。。。。。。所以，要真用在上面还得三思&lt;br&gt;&lt;a href=&quot;https://gist.github.com/Ficapy/23bb5dd5a187ec0bacf2&quot;&gt;这是我参照acme-tiny改写的证书脚本&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;hexo使用的一些建议&quot;&gt;&lt;a href=&quot;#hexo使用的一些建议&quot; class=&quot;headerlink&quot; title=&quot;hexo使用的一些建议&quot;&gt;&lt;/a&gt;hexo使用的一些建议&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;将图片文件进行压缩放到CDN上面。压缩工具灰常之多。笔者就不例举了&lt;/li&gt;
&lt;li&gt;引用的国外JS文件能换成国内镜像源的全部替换&lt;/li&gt;
&lt;li&gt;上传图片不如试试我写的脚本&lt;a href=&quot;https://gist.github.com/Ficapy/8c57998d14c434ab5df3&quot;&gt;https://gist.github.com/Ficapy/8c57998d14c434ab5df3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;swiftype加载真的好慢好慢。如果为了加载速度绝对要替换掉&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;参考&quot;&gt;&lt;a href=&quot;#参考&quot; class=&quot;headerlink&quot; title=&quot;参考&quot;&gt;&lt;/a&gt;参考&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html&quot;&gt;RSA算法原理&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E9%87%91%E9%91%B0%E9%9B%9C%E6%B9%8A%E8%A8%8A%E6%81%AF%E9%91%91%E5%88%A5%E7%A2%BC&quot;&gt;HMAC中文维基&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.sina.com.cn/s/blog_4fcd1ea30100yh4s.html&quot;&gt;pem格式&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://imququ.com/post/letsencrypt-certificate.html&quot;&gt;letsencrypt部署&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;继上篇文章之后，讲解阿里云OSS绑定letsencrypt。其实网上讲述letencrypt使用方法的文章非常之多。本篇文章笔者将会讲解一些其他的比较浅显的原理。即为什么要这样做。该步骤到底发生了什么，对于实际操作步骤，请参照最后的参考链接。&lt;br&gt;
    
    </summary>
    
      <category term="伪技术" scheme="http://ficapy.com/categories/%E4%BC%AA%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>将hexo部署到阿里云OSS</title>
    <link href="http://ficapy.com/2016/03/06/install_hexo_to_aliyun_oss/"/>
    <id>http://ficapy.com/2016/03/06/install_hexo_to_aliyun_oss/</id>
    <published>2016-03-06T14:34:00.000Z</published>
    <updated>2016-03-07T03:04:49.000Z</updated>
    
    <content type="html">&lt;p&gt;最近把博客从wordpress迁移到hexo,主要原因是wordpress太过臃肿。一个个人博客完全不需要那么多的功能。这么多年过去了都没有一个完美的支持markdown方案，然而随着github的流行，程序员社区早已将markdown作为最佳写博客手段！生成静态博客的框架众多。为什么笔者会选择使用hexo。没别的，JS社区一片繁荣(挖坑小能手众多),甚至hexo官网有整站中文化。&lt;/p&gt;
&lt;p&gt;注: 该方案同样适用于又拍及七牛&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;至于怎么安装,如何使用hexo本文就不表述了,请查看官网以及&lt;code&gt;hexo --help&lt;/code&gt;。说一下我遇到的几个问题。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对于npm、pip、gem或者其他的包管理系统在国内请使用镜像源,比如中科大、淘宝等&lt;/li&gt;
&lt;li&gt;对于osx系统，请使用&lt;code&gt;npm install hexo --no-optional&lt;/code&gt;安装，参见&lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot;&gt;官方文档&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;由于hexo框架的升级或者使用环境的不同。有可能导致你使用的主题出现错误。搜索主题的提问信息一般会有答案&lt;/li&gt;
&lt;li&gt;将导出的wordpress文件使用hexo官方推荐的hexo-migrator-wordpress很可能会失败。此时不必纠结,实质就是将xml文件转换成markdown。可用的方法有很多。我使用的是&lt;a href=&quot;http://docs.getpelican.com/en/latest/importer.html&quot;&gt;pelican推荐的做法&lt;/a&gt;,转换出来有些不标准的需要脚本辅助手工完成&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下面说一下安装hexo到阿里云oss的要点，他们最大的区别就是:OSS不能正常的处理请求文件的类型也就是header中Content-Type字段。默认会返回application/octet-stream。意味着请求该资源浏览器会直接下载，而不是正常的解析，所以需要手动指定。另外OSS不能使用相对路径进行访问(因为它的设计就是用作存储，而不是web服务器)。&lt;code&gt;比如访问a.com\b\并不会返回a.com\b\index.html的内容&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;解决以上2个问题的方案就是。对每个上传的文件根据文件名后缀得到其mime指定Content-Type字段。将hexo生成的所有html中href进行处理：将他们的路径加上index.html如果此路径在本地存在文件。则将该路径换成绝对路径。例如\b或者\b\换成\b\index.html。python2示例代码如下,依赖requests、lxml&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#!/usr/bin/env python&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Author: Ficapy&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; os&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; requests&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; base64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; hmac&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; datetime&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; os.path &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; join, exists, relpath&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; mimetypes &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; MimeTypes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; hashlib &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; sha1, md5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; pickle &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; dump, loads&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; cStringIO &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; StringIO, InputType, OutputType&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; lxml &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; html&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;KEY             = &lt;span class=&quot;string&quot;&gt;&#39;----------&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SECRET          = &lt;span class=&quot;string&quot;&gt;&#39;----------&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;BUCKET          = &lt;span class=&quot;string&quot;&gt;&#39;----------&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;url             = &lt;span class=&quot;string&quot;&gt;&#39;----------&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ABSOLUTE_PATH   = &lt;span class=&quot;string&quot;&gt;&#39;/Users/Ficapy/CodeSpace/Blog/public&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;s = requests.Session()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;headers = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&#39;Date&#39;&lt;/span&gt;: datetime.datetime.utcnow().strftime(&lt;span class=&quot;string&quot;&gt;&#39;%a, %d %b %Y %H:%M:%S GMT&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&#39;Content-Type&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;text/html&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&#39;HOST&#39;&lt;/span&gt;: url,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;signature&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(file_path)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; headers&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    path = join(ABSOLUTE_PATH, file_path)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    headers[&lt;span class=&quot;string&quot;&gt;&#39;Content-Type&#39;&lt;/span&gt;] = MimeTypes().guess_type(path)[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;] &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;text/html&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    sign = base64.b64encode(hmac.new(SECRET,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                     &lt;span class=&quot;string&quot;&gt;&#39;PUT&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                     + &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                     + headers[&lt;span class=&quot;string&quot;&gt;&#39;Content-Type&#39;&lt;/span&gt;] + &lt;span class=&quot;string&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                     + headers[&lt;span class=&quot;string&quot;&gt;&#39;Date&#39;&lt;/span&gt;] + &lt;span class=&quot;string&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                     + &lt;span class=&quot;string&quot;&gt;&#39;/&#39;&lt;/span&gt; + BUCKET + &lt;span class=&quot;string&quot;&gt;&#39;/&#39;&lt;/span&gt; + file_path, sha1).digest()).strip()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    headers.update(&amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;Authorization&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;OSS &#39;&lt;/span&gt; + KEY + &lt;span class=&quot;string&quot;&gt;&#39;:&#39;&lt;/span&gt; + sign&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;read_in_chunks&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(file_object, blocksize=&lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt;)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    file_object = file_object &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; isinstance(file_object, (InputType, OutputType)) &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; open(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        join(ABSOLUTE_PATH, file_object))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    file_object.seek(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        data = file_object.read(blocksize)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; data:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; data&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;upload&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(file_path, file_object)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    signature(file_path)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    s.put(&lt;span class=&quot;string&quot;&gt;&#39;http://&#39;&lt;/span&gt; + url + &lt;span class=&quot;string&quot;&gt;&#39;/&#39;&lt;/span&gt; + file_path, headers=headers, data=read_in_chunks(file_object)).raise_for_status()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(&lt;span class=&quot;string&quot;&gt;&#39;upload done: &#39;&lt;/span&gt; + file_path)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 首先请求oss_fuck_md5文件,没有则全部上传  有则和生成的md5对比,本地文件不存在或变动则上传&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 所有文件上传成功后最后上传.oss_fuck_md5文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;local_md5&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    file_md5_mp = &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; root, dirnames, files &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; os.walk(ABSOLUTE_PATH):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; file &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; files:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            fullpath = join(root, file)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            rel = relpath(fullpath, ABSOLUTE_PATH)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            file_md5_mp[rel] = md5(open(fullpath).read()).hexdigest()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; file_md5_mp&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;remote_md5&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    a = s.get(&lt;span class=&quot;string&quot;&gt;&#39;http://&#39;&lt;/span&gt; + url + &lt;span class=&quot;string&quot;&gt;&#39;/oss_fuck_md5&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; a.status_code != &lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; loads(a.content)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;path_process&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(file_path)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    file_path = join(ABSOLUTE_PATH, file_path)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    tree = html.parse(file_path).getroot()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    hrefs = tree.xpath(&lt;span class=&quot;string&quot;&gt;&#39;//*[@href]&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; i, href &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; enumerate(hrefs):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        rewrite = join(href.attrib[&lt;span class=&quot;string&quot;&gt;&#39;href&#39;&lt;/span&gt;].split()[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;], &lt;span class=&quot;string&quot;&gt;&#39;index.html&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; exists(join(ABSOLUTE_PATH, rewrite[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;:])):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            hrefs[i].attrib[&lt;span class=&quot;string&quot;&gt;&#39;href&#39;&lt;/span&gt;] = rewrite&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    f = StringIO()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    f.write(html.tostring(tree))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; f&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    remote = remote_md5()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    locals = local_md5()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    _locals = locals.copy()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; local &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; _locals.keys():&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; _locals[local] != remote.get(local, &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;continue&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            locals.pop(local)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; path &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; locals.keys():&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; path.endswith(&lt;span class=&quot;string&quot;&gt;&#39;html&#39;&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            upload(path, path_process(path))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            upload(path, path)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    f = StringIO()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dump(_locals, f)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    upload(&lt;span class=&quot;string&quot;&gt;&#39;oss_fuck_md5&#39;&lt;/span&gt;, f)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; __name__ == &lt;span class=&quot;string&quot;&gt;&#39;__main__&#39;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    main()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;接下来就是绑定域名了,oss管理页面找找就有了。灰常简单，在下一篇将会阐述如何使用免费的letsencrypt生成证书绑定在阿里云CDN上以及做一些简单的优化。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;最近把博客从wordpress迁移到hexo,主要原因是wordpress太过臃肿。一个个人博客完全不需要那么多的功能。这么多年过去了都没有一个完美的支持markdown方案，然而随着github的流行，程序员社区早已将markdown作为最佳写博客手段！生成静态博客的框架众多。为什么笔者会选择使用hexo。没别的，JS社区一片繁荣(挖坑小能手众多),甚至hexo官网有整站中文化。&lt;/p&gt;
&lt;p&gt;注: 该方案同样适用于又拍及七牛&lt;br&gt;
    
    </summary>
    
      <category term="伪技术" scheme="http://ficapy.com/categories/%E4%BC%AA%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>观影感</title>
    <link href="http://ficapy.com/2015/05/26/film_reviews/"/>
    <id>http://ficapy.com/2015/05/26/film_reviews/</id>
    <published>2015-05-26T13:41:00.000Z</published>
    <updated>2016-03-03T09:13:24.000Z</updated>
    
    <content type="html">&lt;h4 id=&quot;我的影评我做主-想怎么写就怎么写-就是这么任性&quot;&gt;&lt;a href=&quot;#我的影评我做主-想怎么写就怎么写-就是这么任性&quot; class=&quot;headerlink&quot; title=&quot;我的影评我做主,想怎么写就怎么写,就是这么任性~~~~&quot;&gt;&lt;/a&gt;我的影评我做主,想怎么写就怎么写,就是这么任性~~~~&lt;/h4&gt;&lt;h4 id=&quot;《12公民》-15-5-23&quot;&gt;&lt;a href=&quot;#《12公民》-15-5-23&quot; class=&quot;headerlink&quot; title=&quot;《12公民》-15.5.23&quot;&gt;&lt;/a&gt;《12公民》-15.5.23&lt;/h4&gt;&lt;p&gt;据说是根据&lt;strong&gt;《12罗汉》改编&lt;/strong&gt;，没看过12罗汉，看过之后感觉这部电影还挺好。小成本的人文片故事讲的好也挺值得回味的。&lt;/p&gt;
&lt;p&gt;电影讲述的是一个牛逼检察官通过他理性的分析一步步还原了“富二代手刃生父”案件的真相。&lt;/p&gt;
&lt;p&gt;以下12个男主角(突然想到为嘛没女的呢，终于想到这么多年我好像第一次看到没有男女猪脚fall&lt;br&gt;in love的片子)：&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1号:团长,好像就做了记录工作，宣布投票，记得的镜头就是几次被别人搞的不赖烦。冒出了you&lt;br&gt;can you&lt;br&gt;up。生气之后被8号的义正言辞所打动,给了个把椅子摆正的镜头。然后，阿勒。每个人被策反之前都有那么写内心深处的独白。为毛你啥都没有呢~&lt;/li&gt;
&lt;li&gt;2号:工程师,绝佳的头脑，加减乘除不在话下，作为第一个发言的，其实他啥也没说，除了呵呵没什么太深刻的印象&lt;/li&gt;
&lt;li&gt;3号:司机。暴脾气,最固执的一个人了，反正父母啥时候都是对的。就好像以前某人会说我自己认为是好的不要认为别人也喜欢。&lt;/li&gt;
&lt;li&gt;4号:房地产开发商,作为一个成功人士还是挺有思想的，其认为明确有罪的理由大概有①小孩回家后直接会房并没有人看到他②死者身上的刀小孩有一把并且不见了③下层老爷爷的口述④对面妇女的口述.坚持自己的看法直至每个看法都被合理的质疑。只是为什么有那么几个镜头感觉看8号的镜头有那么点不对呢，不是Gay？&lt;/li&gt;
&lt;li&gt;5号:黑社会,从识别匕首来看还是有两把刷子。有些冷酷？因为这个身份被贴上不良分子的TAG咯？从TAG这个角度来看他和富二代是最为相似的。给人的感觉就是没有良好的品行，不怀疑你怀疑谁~~~算是TAG上的悲哀吧，只是没多大明白小伙子穿一件单衬衫为什么会流汗漏出了后背的纹身&lt;/li&gt;
&lt;li&gt;6号:北京人,记得看过他演的《正阳门下》，剧中情节差不多都忘记咯~&lt;/li&gt;
&lt;li&gt;7号:小贩,社会底层人民的声音有谁会在意，谁会去倾听。&lt;/li&gt;
&lt;li&gt;8号:检察官，猪脚光环咯，柯南附体咯，你丫有备而来，现场还频频灵光闪现。好像在影视作品中也经常见到他当正派官方角色。应该是一位智者吧。&lt;/li&gt;
&lt;li&gt;9号:文革老人，姜还是老的辣，能发现别人所发现不了的微小细节。我当时就想，莫非大爷年轻的时候也犯过不少错？&lt;/li&gt;
&lt;li&gt;10号:老北京？我也不知道咋称呼好。这货极度排外啊，一上来就是河南人咋地，外地人咋地。经常打断别人的话，不占据理就拍桌子~~想起了那句话，事实有利就讲事实，法律有利就讲法律，两都没利就拍桌子把水搅浑。已经占据了良好的资源却仍不知足。房子租给外地人却嫌弃外地人压榨了北京人的生活环境，说自己儿子学习到凌晨3点被外地人竞争的一个好的大学都上不了。我们都是过来人，如若真的如此努力会酱紫？笑cry~~从另外一个方面来说，这位是过度考虑自己的孩子的未来么。&lt;/li&gt;
&lt;li&gt;11号:保安，这个角色让人伤感啊。是一个立志成为公检人员的好保安？因为工作关系知道地铁的长度，知道速度，咋就t=s/v都不造呢&lt;/li&gt;
&lt;li&gt;12号：墙头草？从这个角色来看投票制度发现设置中立选项很有必要。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;因为故事讲的好，反映的问题非常多。每个人看过之后应该都有那么几个侧重点。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;教育：教育的结果就是一张毕业证。没有这个证就不好找工作。十二位也是为了这个被迫参加讨论，话说让家长在那么个破废弃仓库研讨有点脱离实际了。12比0正好促进了情节的发展。&lt;/li&gt;
&lt;li&gt;标签：了解一件事情很难，更何况仅凭一面之词，想想我们在网上看到的一些网文便迅速给出回复。谁写的煽情，谁文笔好，谁给出对自己有利的证据舆论往往会偏向某一方。黑社会和富二代这些标签都会蒙蔽了我们的思考。苏轼说横看成岭侧成峰，远近高低各不同，不识庐山真面目，只缘身在此山中。可惜咯，往往事实呈现在我们面前的只是冰山一角。当事人的感受我们是没法体会的。so,我应该远离那些无意义的争论。变得更加理性一些&lt;/li&gt;
&lt;li&gt;话语：最开始大家都不愿意讨论，有什么可讨论的，讨论又没有用~~。最典型的是小贩。一个苹果换一个苹果最后还是一个苹果，一个想法换另外一个想法最后是两个想法。当大家都不愿意相信自己的话语能够改变什么就变得不愿去交换自己真实的想法，因为没什么卵用。可是坚持正确的发声总是好的，合理表达出自己的观点。最后小贩得到了保安的尊重，检察官的儿子也买了好多冰棍，大家对待事物都有了更好的看法。&lt;/li&gt;
&lt;li&gt;尊重：好吧,我也对这方面知之甚少&lt;/li&gt;
&lt;li&gt;事业：正如房地产开发商所说（这货还真发表了好多有意思的看法呢），不要看到富人就觉得别人背地里干了见不得人的勾当，自己穷应该反思自己没本事。然后是干女儿：咱两是奔着结婚去的&amp;amp;&amp;amp;看见好女孩从好车上下来就管人家叫傍大款，你那是嫉妒！那是对中国优秀女青年的侮辱~~，其实里面经典台词还是挺多的&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;总结来说这是一部我能看2遍的电影，能看2遍的电影对我来说都是挺有意思的电影&lt;/p&gt;
&lt;h3 id=&quot;《哆啦A梦·伴我同行》-15-5-30&quot;&gt;&lt;a href=&quot;#《哆啦A梦·伴我同行》-15-5-30&quot; class=&quot;headerlink&quot; title=&quot;《哆啦A梦·伴我同行》-15.5.30&quot;&gt;&lt;/a&gt;《哆啦A梦·伴我同行》-15.5.30&lt;/h3&gt;&lt;p&gt;本以为会有很多小孩子的，结果怎么没几个啊喂~~或许是因为我动漫看的不多的缘故，非常喜欢这种简洁清爽的CG画风，感觉很舒服,也很细致。还是非常小的时候看过一些机器猫。&lt;/p&gt;
&lt;p&gt;我脑海中记得的景象居然是大雄每次考试考0分，怎么没有受到爸爸妈妈的男女混合双打啊，一家人还其乐融融。不过在救静香的时候能想到让自己的记忆穿越时空传递&lt;br&gt;给未来的自己智商还是很高的好么~~小孩子真的特别天真改变自己也很快哈。奋起学习是分分钟的事情(还真不是三分钟热度)。面对失败(努力学数学结果语文考试得0分)也可以分分钟放弃，在困难的时候机器猫点醒了大雄是多么的重要。前面的时候大雄依靠种种外力结果原来越远，关键的时候还是得靠自己是不。&lt;/p&gt;
&lt;p&gt;最后静香他爸是这样评价大雄的，因为别人开心而开心，因为别人的幸福而幸福，他一定会给你幸福的。成年的大雄依然保持着这样善良的心。我已&lt;em&gt;无语凝噎。故事里大雄和静香幸福的生活在了一起。&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;《末日崩塌》-2015-6-6&quot;&gt;&lt;a href=&quot;#《末日崩塌》-2015-6-6&quot; class=&quot;headerlink&quot; title=&quot;《末日崩塌》-2015.6.6&quot;&gt;&lt;/a&gt;《末日崩塌》-2015.6.6&lt;/h3&gt;&lt;p&gt;哇哦，写这篇影评都是两周后了，真是懒散啊~~，这篇电影给我的感觉就是不太值得一看&amp;gt;&lt;em&gt;&amp;lt;。以前想着要是地震的时候在天上开飞机会是咋样的呢，没有飞机跳到河里去会是咋样的呢。卧槽，结果地震的时候男主还真的是在开飞机，搞的我都以为全片会一直开飞机开到结束的Orz~~整片就是看特效的。大楼抖动，大楼出现裂纹。大楼倾斜。可能是大地断裂啥的特效表现效果不是太好做，所以地点选在了旧金山。嗯&lt;br&gt;之后就是水特效啦。当然特效效果真的还是挺不错的。再说这是一部主角光环爆满的电影。发生地震的时候男主有飞机，飞机没油了男主到了非地震区有汽车，明显如果一直开汽车对这种长距离时间是完全不够用的，于是乎男主又开上了飞机(可是为啥最后在大桥那里有看到了那对年老的爷爷奶奶)。最后降落在足球场时展开双臂是不是有些模仿了《泰坦尼克号》的Jake和Rose呢（→&lt;/em&gt;→经典已成一代人的回忆无法超越，不过模仿的还挺不错）。迫降之后男主在一个帅气的&lt;code&gt;生命三角&lt;/code&gt;拯救了好多人性命之后奇迹般的搞了一条快艇。在轮船翻的时候从螺旋桨下面擦头而过(螺旋桨真的没有气流吗，在那么大一艘船沉没的时候没有漩涡吗)，诸如此类，主角光环还是需要有的。可是无时无刻使用就没多大意思了。如果游戏当中能连续不停的暴击那么谁会和你玩耍呢~~~可能有时候就会想，这真的不是天佑男主么Orz&lt;/p&gt;
&lt;p&gt;其次，男主的身材真是好！在一个侧面的镜头的时候男主的手握住女主的双肩。在3D的效果下就赶脚男主体形完全是女主2倍有余嘛，简直宽厚伟岸！！保家卫国。看~~家是在前面的。连自己的亲人都保护不了当什么键盘党去操中南海的心嘞。细想一下这要是我党的电影可能就是这个样子鸟。当时发生地震了，男主同时接到了战友和女主的电话。男主果断说了阿门然后投入到了英勇的救灾工作中。片尾女主和女儿出现一家团聚~~。美剧虽然都是个人英雄主义，用在保家这方面还真是激动人心呢~~&lt;/p&gt;
&lt;p&gt;另外,查了下男主引以为傲的’生命三角’网上指出瞎扯。宣扬错误的灾难预防理念真是心塞。还有使用手摇电话那一节。手摇电话用的是固化网络，固化网络不依赖城市电网啥的。只是大地震的时候它真的不会断掉么。面对地震的时候觉得不是可靠的，顶多也就比手机靠谱一点而已。对于灾难，剧中大家表现的相对镇定。发生二次伤害的情况不多。不知道真正面对这种重大灾难，随时可能性命不保会是什么样子T_T，哦&lt;br&gt;还有一点，是不是对于教授这个角色，总是适合大腹便便有着络腮胡的人来演呢&amp;gt;_&amp;lt;看起来比较有学识咩&lt;/p&gt;
&lt;p&gt;最后总结一下。这是一部以小爱胜于大爱为主题，以地震为背景毫无血腥也不紧张的特效电影~&lt;/p&gt;
&lt;h3 id=&quot;《侏罗纪世界》-2015-6-13&quot;&gt;&lt;a href=&quot;#《侏罗纪世界》-2015-6-13&quot; class=&quot;headerlink&quot; title=&quot;《侏罗纪世界》-2015.6.13&quot;&gt;&lt;/a&gt;《侏罗纪世界》-2015.6.13&lt;/h3&gt;&lt;p&gt;以前看过这个系列的某些电影。已经没什么印象了，真是一点印象都没有~~可能因为不是在电影院看的？话说可能是斯蒂芬·斯皮尔伯格这快金字招牌？电影给人的感觉非常棒，想到恐龙会不会让人觉得这是一部恐怖片呢。我想真的很容易拍成恐怖片。可是这部电影给人的感觉丝毫不恐怖~~音乐拿捏的恰到好处，紧张刺激不恐怖~~。&lt;/p&gt;
&lt;p&gt;问我别的？别的？卧槽&lt;br&gt;我就感觉好看了。但是哪里好看我还真想不起来，想不起来，想不起来&amp;gt;_&amp;lt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;我的影评我做主-想怎么写就怎么写-就是这么任性&quot;&gt;&lt;a href=&quot;#我的影评我做主-想怎么写就怎么写-就是这么任性&quot; class=&quot;headerlink&quot; title=&quot;我的影评我做主,想怎么写就怎么写,就是这么任性~~~~&quot;&gt;&lt;/a&gt;我的影评我做主,想怎么写就怎么写,就是这么任性~~~~&lt;/h4&gt;&lt;h4 id=&quot;《12公民》-15-5-23&quot;&gt;&lt;a href=&quot;#《12公民》-15-5-23&quot; class=&quot;headerlink&quot; title=&quot;《12公民》-15.5.23&quot;&gt;&lt;/a&gt;《12公民》-15.5.23&lt;/h4&gt;&lt;p&gt;据说是根据&lt;strong&gt;《12罗汉》改编&lt;/strong&gt;，没看过12罗汉，看过之后感觉这部电影还挺好。小成本的人文片故事讲的好也挺值得回味的。&lt;/p&gt;
&lt;p&gt;电影讲述的是一个牛逼检察官通过他理性的分析一步步还原了“富二代手刃生父”案件的真相。&lt;/p&gt;
&lt;p&gt;以下12个男主角(突然想到为嘛没女的呢，终于想到这么多年我好像第一次看到没有男女猪脚fall&lt;br&gt;in love的片子)：&lt;br&gt;
    
    </summary>
    
      <category term="随笔" scheme="http://ficapy.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>将pycharm的运行配置脚本路径修改为当前选中文件</title>
    <link href="http://ficapy.com/2015/03/18/change-pycharm-run-configurations-script-path-to-current-file/"/>
    <id>http://ficapy.com/2015/03/18/change-pycharm-run-configurations-script-path-to-current-file/</id>
    <published>2015-03-17T16:47:00.000Z</published>
    <updated>2016-03-03T09:13:17.000Z</updated>
    
    <content type="html">&lt;p&gt;这标题看着都挺让人蛋疼的，可能很少人会遇到这个问题。但是我觉得pycharm用多了应该是会遇到的~~~~~&lt;/p&gt;
&lt;p&gt;使用pycharm的时候每次运行脚本都会有一个&lt;strong&gt;&lt;span
style=&quot;text-decoration: underline;&quot;&gt;&lt;em&gt;&lt;span
style=&quot;color: #ff0000; text-decoration: underline;&quot;&gt;基于默认设置的python运行环境设置&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/strong&gt;，如下图所示&lt;img src=&quot;https://ficapy.b0.upaiyun.com/blogimg/865uap38l.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;哈哈哈哈哈哈~~~~~~~~对着这张图看了好久&lt;br&gt;突然意识到这篇博文都没啥写的必要了，是不幸还是幸运呢。反正以前也问过一些人问题不怎么好描述都一直没得到方案，促使今天自己写了个小脚本。想想觉得也挺有趣&lt;br&gt;还是记录下来吧 临时发现这个也算是福气哇~~&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;每次右键点击再执行文件的时候都会生成一个python运行配置，这一步骤只是运行配置中的script项有所改变。假如你有很多个文件。那么执行多个文件后就将有多个运行配置了，看着真是相当不爽，如果你知道pycharm的external&lt;br&gt;tool，里面有insert&lt;br&gt;macros，其中\$FilePath\$就代表当前选择的文件绝对路径。可惜该参数无法填入script项，否则就能减少非常多python运行配置，大部分项目仅一个就可以了。&lt;/p&gt;
&lt;p&gt;如果项目使用的是本地python解释器&amp;amp;没有复杂的配置，那么直接右键点击再执行会自动生成一个python运行配置可以正常执行，也就不会有俺最开始的苦恼了。我使用的是vagrant开发环境，代码是从本机映射到虚拟机上，所以直接执行会显示路径错误~~~我的处理流程是这样的&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;最开始选择照旧执行，报错后进入运行设置添加路径映射&lt;/li&gt;
&lt;li&gt;可是特喵每次都添加映射好烦啊，映射路径好长的好咩，反正其他的不变，仅仅是运行文件改变了，于是乎选择要运行的时候就将一个好的运行设置修改文件路径为当前就好了&lt;/li&gt;
&lt;li&gt;就是现在了，觉得2也好烦。。。。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;以上烦恼就是因为忘记了针对每一个项目都有默认的环境设置，其实将默认的环境设置设置好以后自动继承就ok了&amp;gt;_&amp;lt;当想到3的时候总体方针就是自动修改script参数为当前文件路径。最开始是想写脚本找出该项目下所有py文件中最后修改的那个，然后就想可能pycharm对于每个项目都有一个配置文件，修改配置文件中script的地址就好了~~~可是最后没找到。最后就想到了模拟点击到设置页面修改了。然后就试了以下几个sikulix、aauto(快手)、按键精灵、Automa。第一四个一看便可上手，就和上手python的库那么简单，就几个特好理解的函数，二看了一下虽有auto但不适合做模拟点击，而且想立马使用也是没多大可能的，按键精灵我咋看着想吐呢，宁可去背几个函数也不想插入插入插入。。。。&lt;/p&gt;
&lt;p&gt;最后还是亮上用sikulix和automa写的代码吧，炒鸡简单&lt;a href=&quot;https://github.com/aec4d/ScriptLet/tree/master/pycharm\_script\_path\_autochange&quot;&gt;https://github.com/aec4d/ScriptLet/tree/master/pycharm\_script\_path\_autochange&lt;/a&gt;&lt;br&gt;需要注意的是需按照官网提示配置好环境。2个都是使用绝对坐标定位然后点击，屏幕分辨率1366*768，pycharm版本4.0.5&lt;/p&gt;
&lt;p&gt;bingo~~~~~~~~~~~~`&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;这标题看着都挺让人蛋疼的，可能很少人会遇到这个问题。但是我觉得pycharm用多了应该是会遇到的~~~~~&lt;/p&gt;
&lt;p&gt;使用pycharm的时候每次运行脚本都会有一个&lt;strong&gt;&lt;span
style=&quot;text-decoration: underline;&quot;&gt;&lt;em&gt;&lt;span
style=&quot;color: #ff0000; text-decoration: underline;&quot;&gt;基于默认设置的python运行环境设置&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/strong&gt;，如下图所示&lt;img src=&quot;https://ficapy.b0.upaiyun.com/blogimg/865uap38l.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;哈哈哈哈哈哈~~~~~~~~对着这张图看了好久&lt;br&gt;突然意识到这篇博文都没啥写的必要了，是不幸还是幸运呢。反正以前也问过一些人问题不怎么好描述都一直没得到方案，促使今天自己写了个小脚本。想想觉得也挺有趣&lt;br&gt;还是记录下来吧 临时发现这个也算是福气哇~~&lt;br&gt;
    
    </summary>
    
      <category term="随笔" scheme="http://ficapy.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>Linode紧急模式修改密码</title>
    <link href="http://ficapy.com/2015/03/09/linode-rescue-mode-reset-root-password/"/>
    <id>http://ficapy.com/2015/03/09/linode-rescue-mode-reset-root-password/</id>
    <published>2015-03-09T01:45:00.000Z</published>
    <updated>2016-03-03T09:13:43.000Z</updated>
    
    <content type="html">&lt;p&gt;VPS运行太久了，也没怎么上去看。前些天重装电脑没保存VPS的登陆信息。等需要上去看的时候才知道&lt;strong&gt;粗大事了！&lt;/strong&gt;登陆不上去了&lt;/p&gt;
&lt;p&gt;我前期因为安全需要设置了禁用密码登陆，改用密匙，修改了端口，无奈去问Linode客服，得到答复如下&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Hello;&amp;#10;&amp;#10;You can reset your root password by following the following steps:&amp;#10;&amp;#10;1) Go to your Linode&amp;#39;s dashboard  &amp;#10;2) Shut down your Linode  &amp;#10;3) Go to the &amp;#34;Rescue&amp;#34; tab of the Linode&amp;#39;s dashboard  &amp;#10;4) Type the new password in the &amp;#34;Reset Root Password&amp;#34; field  &amp;#10;5) Reset  &amp;#10;6) Wait for the process to finish (you&amp;#39;ll see it in your host job&amp;#10;queue)  &amp;#10;7) Boot your Linode&amp;#10;&amp;#10;Best regards,&amp;#10;&amp;#10;Dave Russell Jr  &amp;#10;Linode Support Specialist&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;继续问，我修改了登陆端口，而且希望修改密码机器不重启可以么，答曰没有办法。最后只能说这个&lt;strong&gt;&lt;em&gt;官方复制的回复坑爹至极&lt;/em&gt;&lt;/strong&gt;。&lt;br&gt;正确步骤如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;进入Remote Access页面获取Lisa via ssh代码&lt;/li&gt;
&lt;li&gt;使用SSH客户端连接，我使用的是cmder。该步骤要求你输入密码，密码为注册Linode的密码，非vps登陆密码&lt;/li&gt;
&lt;li&gt;进入后会出现如下字符localhost&lt;br&gt;login:要求你输入账号密码，此时才是你的VPS登陆密码，非Linode账号密码（我就是在这里卡了好久。。。没反应过来）&lt;/li&gt;
&lt;li&gt;到这里就是上面官方客服的步骤了，1.先关闭VPS。2.进入rescue页面最下方重置root密码。3.开机&lt;/li&gt;
&lt;li&gt;用上面修改的root密码键入步骤三&lt;/li&gt;
&lt;li&gt;最后修改/etc/ssh/sshd_config配置service ssh restart&lt;/li&gt;
&lt;li&gt;bingo，重置密码完成~~~~~~~~~·&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;补图2张&lt;img src=&quot;https://ficapy.b0.upaiyun.com/blogimg/UbP8Dv52.png&quot; alt=&quot;Linode\_reset\_password\_1&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://ficapy.b0.upaiyun.com/blogimg/FGm3768z.png&quot; alt=&quot;Linode\_reset\_password\_2&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;VPS运行太久了，也没怎么上去看。前些天重装电脑没保存VPS的登陆信息。等需要上去看的时候才知道&lt;strong&gt;粗大事了！&lt;/strong&gt;登陆不上去了&lt;/p&gt;
&lt;p&gt;我前期因为安全需要设置了禁用密码登陆，改用密匙，修改了端口，无奈去问Linode客服，得到答复如下&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Hello;&amp;#10;&amp;#10;You can reset your root password by following the following steps:&amp;#10;&amp;#10;1) Go to your Linode&amp;#39;s dashboard  &amp;#10;2) Shut down your Linode  &amp;#10;3) Go to the &amp;#34;Rescue&amp;#34; tab of the Linode&amp;#39;s dashboard  &amp;#10;4) Type the new password in the &amp;#34;Reset Root Password&amp;#34; field  &amp;#10;5) Reset  &amp;#10;6) Wait for the process to finish (you&amp;#39;ll see it in your host job&amp;#10;queue)  &amp;#10;7) Boot your Linode&amp;#10;&amp;#10;Best regards,&amp;#10;&amp;#10;Dave Russell Jr  &amp;#10;Linode Support Specialist&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="随笔" scheme="http://ficapy.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="Linode, Lish" scheme="http://ficapy.com/tags/Linode-Lish/"/>
    
  </entry>
  
  <entry>
    <title>Flask项目初始配置</title>
    <link href="http://ficapy.com/2014/10/29/flask_project_init/"/>
    <id>http://ficapy.com/2014/10/29/flask_project_init/</id>
    <published>2014-10-29T14:19:00.000Z</published>
    <updated>2016-03-03T09:13:36.000Z</updated>
    
    <content type="html">&lt;p&gt;记录一下flask项目的配置，做个笔记。适合我等小白习惯windows却喜欢dpkg友好的包管理安装软件的童鞋,其实开源项目总是优先满足Unix系统的，确实比在windows上用着舒服哇！&lt;br&gt;使用工具：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;windows7 X64&lt;/li&gt;
&lt;li&gt;vagrant&lt;/li&gt;
&lt;li&gt;ubuntu14&lt;/li&gt;
&lt;li&gt;xshell&lt;/li&gt;
&lt;li&gt;cmder(可选)&lt;/li&gt;
&lt;li&gt;pycharm&lt;/li&gt;
&lt;/ul&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;准备步骤：&lt;/p&gt;
&lt;h2 id=&quot;1-环境搭建&quot;&gt;&lt;a href=&quot;#1-环境搭建&quot; class=&quot;headerlink&quot; title=&quot;1.环境搭建&quot;&gt;&lt;/a&gt;&lt;strong&gt;1.环境搭建&lt;/strong&gt;&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;vagrant box add ubuntu14 URL(或者先下载box文件用文件名替代)  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vagrant init ubuntu14  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vagrant up  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vagrant halt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;NOTE.&lt;/strong&gt;&lt;br&gt;vagrant使用可谓相当简单了,使用单文件配置,整个周期分为add/init/up/reload/suspend/halt/destroy;&lt;/p&gt;
&lt;p&gt;另外推荐将22端口进行转发。默认转发到2222，但是当打开多个虚拟机的时候因为2222端口被占用所有会随机指定一个端口。So，固定一下对自己的设置是相当有利的。当然因为Flask默认使用5000端口进行测试，对它进行转发也是理所当然的;&lt;/p&gt;
&lt;p&gt;至于使用vagrant&lt;br&gt;ssh登陆,用系统自带的CMD那是相当难受滴,使用cmder全功能版不错。用过一段时间不得不说相对CMD真实赏心悦目,在我的使用中感觉确定有两个。毕竟不是专业的SSH客户端，对于中文文件名无能为力，或许是我不会设置，其二是无法设置代理而且连接到远程VPS时候输入卡顿严重。所以最后还是回归了Xshell。&lt;/p&gt;
&lt;p&gt;开机关机每次进入cmder cd c:\path 进入vagrant 在运行vagrant&lt;br&gt;up是相当厌烦的，用python脚本启动它是个不错的选择&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; os&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;os.system(&lt;span class=&quot;string&quot;&gt;&#39;cd &quot;c:\\\\ficapy\\\\microblog&quot; &amp;amp;&amp;amp; vagrant reload&#39;&lt;/span&gt;)  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#是不是异常简单呢 切换到目录执行reload操作→不一定要先启动再重载！  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# &amp;amp;&amp;amp;表示上个操作执行完毕后在执行下面的操作&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;2-Linux配置&quot;&gt;&lt;a href=&quot;#2-Linux配置&quot; class=&quot;headerlink&quot; title=&quot;2.Linux配置&quot;&gt;&lt;/a&gt;&lt;strong&gt;2.Linux配置&lt;/strong&gt;&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get update upgrade \&lt;span class=&quot;comment&quot;&gt;#更新源&amp;amp;升级系统  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install git git-core python python-dev python-setuptools  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo easy\_install pip  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo pip install virtualenv virtualenvwrapper  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;nano \~/.bashrc  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;添加下面两行配置后重新运行(&lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt; \~/.bashrc)  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; WORKON\_HOME=\&lt;span class=&quot;variable&quot;&gt;$HOME&lt;/span&gt;/.virtualenvs  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt; /usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/bin/virtualenvwrapper.sh&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;&lt;br&gt;virtualenvwarpper顾名思义是对virtualenv的二次包装,给我的赶脚就是环境不是在放在开发文件夹下面了，而且命令行直观友好容易记忆，还有TAB自动补全哟。常用的大致有mkvirtualenv/rmvirtualenv/lsvirtualenv/workon/deactive;&lt;/p&gt;
&lt;p&gt;另外使用pip安装第三方包的时候不要使用sudo pip&lt;br&gt;install,该操作会导致安装到全局，而不是安装到当前环境中.直接使用pip&lt;br&gt;install安装.Linux比较小白，暂时我也不知道为什么&lt;/p&gt;
&lt;p&gt;ubuntu14自带python2.7可以不用安装python。可是python-dev这个必装，否则pip安装一些需要编译安装的第三方包的时候会报一些莫名其妙的错误，比如pycurl等。同时直接使用二进制包python-pip安装pip有时候安装包会出错（一朝被蛇咬，十年怕井绳啊，所以我还是使用官方推荐的easy_install方式安装了，还有一种是下载get.py方式）&lt;/p&gt;
&lt;h2 id=&quot;3-windows端Pycharm设置&quot;&gt;&lt;a href=&quot;#3-windows端Pycharm设置&quot; class=&quot;headerlink&quot; title=&quot;3.windows端Pycharm设置&quot;&gt;&lt;/a&gt;&lt;strong&gt;3.windows端Pycharm设置&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;使用vagrant后，默认设置文件将该目录映射到虚拟的的/vagrant文件夹。我们就将项目统一放在该文件夹下&lt;/p&gt;
&lt;p&gt;不得不说的是pycharm上的vagrant插件在windows上是无法使用的,至少对我来说是这样，手动配置远端python解释器，如下图&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ficapy.b0.upaiyun.com/blogimg/pycharm_remote_interoreters_config.png&quot; alt=&quot;pycharm\_remote\_interoreters\_config&quot;&gt;Note.在这里点击fill&lt;br&gt;from vagrant config就有用了,改变2222端口是一个很好的选择&lt;/p&gt;
&lt;p&gt;设置远端python解释器后就可以在本地调用了，这还不够，同时还需要设置项目目录映射，以便解释器能够根据本地文件映射到虚拟机文件的地址让解释器执行。选择Run→Configureations,最主要的设置是一、选择解释器；二、设置work&lt;br&gt;directory和Path mapping之后就能正确的使用虚拟机的python运行本地文件了;&lt;/p&gt;
&lt;p&gt;另外，有时候不想用xshell连接后运行python。这时候使用pycharm也是相当方便的。Tools→run&lt;br&gt;python&lt;br&gt;console就够了,会默认添加当前目录到python的包索引列表方便导入,只是有时候这个目录并不完全正确,可能是设置还是有错误吧，我每次都重运行sys.path.extend([‘/vagrant/path~~~~~~‘])手动解决&lt;/p&gt;
&lt;p&gt;~~~~~~~~还想写个安装heroku客户端的,自己还没有很好的实践,以后试试吧，至少测试部署还是相当方便的&lt;/p&gt;
&lt;p&gt;参考：&lt;br&gt;&lt;a href=&quot;http://blog.segmentfault.com/fenbox/1190000000264347&quot;&gt;http://blog.segmentfault.com/fenbox/1190000000264347&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://pedrokroger.net/getting-started-pycharm-python-ide/&quot;&gt;http://pedrokroger.net/getting-started-pycharm-python-ide/&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://bliker.github.io/cmder/&quot;&gt;http://bliker.github.io/cmder/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;记录一下flask项目的配置，做个笔记。适合我等小白习惯windows却喜欢dpkg友好的包管理安装软件的童鞋,其实开源项目总是优先满足Unix系统的，确实比在windows上用着舒服哇！&lt;br&gt;使用工具：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;windows7 X64&lt;/li&gt;
&lt;li&gt;vagrant&lt;/li&gt;
&lt;li&gt;ubuntu14&lt;/li&gt;
&lt;li&gt;xshell&lt;/li&gt;
&lt;li&gt;cmder(可选)&lt;/li&gt;
&lt;li&gt;pycharm&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Flask" scheme="http://ficapy.com/categories/Flask/"/>
    
    
      <category term="Flask配置, pycharm, vagrant" scheme="http://ficapy.com/tags/Flask%E9%85%8D%E7%BD%AE-pycharm-vagrant/"/>
    
  </entry>
  
  <entry>
    <title>V2EX签到脚本</title>
    <link href="http://ficapy.com/2014/08/02/v2ex_signin/"/>
    <id>http://ficapy.com/2014/08/02/v2ex_signin/</id>
    <published>2014-08-02T14:18:00.000Z</published>
    <updated>2016-03-03T09:13:59.000Z</updated>
    
    <content type="html">&lt;p&gt;本来打算上个月发的，一直没管博客，不管是啥来凑个文章数吧，刚学js仿照别人的脚本改写的签到脚本&lt;/p&gt;
&lt;p&gt;顺便说一下，写脚本真的很有趣，更有趣的是打开网页的时候Greasemonkey可以运行自己写的脚本，就酱紫&lt;/p&gt;
&lt;p&gt;凑字数完毕→_→&lt;/p&gt;
&lt;p&gt;哦，情人节！！！&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ==UserScript==&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// @name        V2EX签到&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// @description V2EX任意页面自动签到&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// @include     http*://*.v2ex.com/*&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// @include     http*://v2ex.com/*&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// @author      ficapy&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// @grant       GM_getValue&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// @grant       GM_setValue&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// @grant       GM_xmlhttpRequest&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// @version     2014.7.18&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// @namespace   None&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ==/UserScript==&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 注：参照 http://www.v2ex.com/t/80927 所修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//在V2EX搜索框显示需要提示的信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; showInformation = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;text&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&quot;q&quot;&lt;/span&gt;).value = text;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//检测是否登录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementsByClassName(&lt;span class=&quot;string&quot;&gt;&quot;bigger&quot;&lt;/span&gt;).length)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; userId = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementsByClassName(&lt;span class=&quot;string&quot;&gt;&quot;bigger&quot;&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].textContent;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; userId = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 间隔上次签到一天并且登陆再进行操作(或者切换了账号)→_→&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ((&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;().getUTCDate() != GM_getValue(&lt;span class=&quot;string&quot;&gt;&quot;sign&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;25:name&quot;&lt;/span&gt;).split(&lt;span class=&quot;string&quot;&gt;&quot;:&quot;&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;] || userId != GM_getValue(&lt;span class=&quot;string&quot;&gt;&quot;sign&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;25:name&quot;&lt;/span&gt;).split(&lt;span class=&quot;string&quot;&gt;&quot;:&quot;&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]) &amp;amp;&amp;amp; userId )&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    showInformation(&lt;span class=&quot;string&quot;&gt;&quot;正在检测每日签到状态...&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    GM_xmlhttpRequest(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;method&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;GET&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;url&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;/mission/daily&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;onload&quot;&lt;/span&gt; : &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;response&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (response.responseText.match(&lt;span class=&quot;string&quot;&gt;&quot;领取 X 铜币&quot;&lt;/span&gt;))&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; days = response.responseText.match(&lt;span class=&quot;regexp&quot;&gt;/已连续登录.+天/&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                showInformation(&lt;span class=&quot;string&quot;&gt;&quot;正在领取今日签到奖励&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                GM_xmlhttpRequest(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;string&quot;&gt;&quot;method&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;GET&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;string&quot;&gt;&quot;url&quot;&lt;/span&gt; : response.responseText.match(&lt;span class=&quot;regexp&quot;&gt;/(?=\/).+?(?=\&#39;)/g&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;string&quot;&gt;&quot;onload&quot;&lt;/span&gt; : &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;resp&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            showInformation(&lt;span class=&quot;string&quot;&gt;&quot;正在提交&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            days = &lt;span class=&quot;string&quot;&gt;&quot;已连续登陆&quot;&lt;/span&gt; + (&lt;span class=&quot;built_in&quot;&gt;parseInt&lt;/span&gt;(days.slice(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,-&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)) + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) + &lt;span class=&quot;string&quot;&gt;&quot;天&quot;&lt;/span&gt;;&lt;span class=&quot;comment&quot;&gt;//返回连续登陆天数&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            GM_xmlhttpRequest(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                &lt;span class=&quot;string&quot;&gt;&quot;method&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;GET&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                &lt;span class=&quot;string&quot;&gt;&quot;url&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;/balance&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                &lt;span class=&quot;string&quot;&gt;&quot;onload&quot;&lt;/span&gt; : &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;res&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                    &lt;span class=&quot;comment&quot;&gt;//格式化日期，将缺0补齐.网站很坑爹的时间是GTM+8，后面的描述文件却没有加上，凌晨测试发现&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;p&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;s&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; s&amp;lt;&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt; ? &lt;span class=&quot;string&quot;&gt;&quot;0&quot;&lt;/span&gt;+s :s; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; today = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;().getUTCFullYear() + p(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;().getUTCMonth()+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) +p(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;().getUTCDate());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (res.responseText.match(today + &lt;span class=&quot;string&quot;&gt;&quot; 的每日登录奖励&quot;&lt;/span&gt;))&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                        showInformation(days + &lt;span class=&quot;string&quot;&gt;&quot;，本次领取到&quot;&lt;/span&gt; + res.responseText.match(&lt;span class=&quot;built_in&quot;&gt;eval&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;+today+&lt;span class=&quot;string&quot;&gt;&quot;.+铜币/&quot;&lt;/span&gt;))[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;奖励&quot;&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;].replace(&lt;span class=&quot;regexp&quot;&gt;/ /g&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                        GM_setValue(&lt;span class=&quot;string&quot;&gt;&quot;sign&quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;().getUTCDate() + &lt;span class=&quot;string&quot;&gt;&quot;:&quot;&lt;/span&gt; + userId);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                    &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                        showInformation(&lt;span class=&quot;string&quot;&gt;&quot;自动领取遇到意外，你可以手动领取试试&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;string&quot;&gt;&quot;onerror&quot;&lt;/span&gt; : &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123; showInformation(&lt;span class=&quot;string&quot;&gt;&quot;网络异常&quot;&lt;/span&gt;);&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (response.responseText.match(&lt;span class=&quot;string&quot;&gt;&quot;已领取&quot;&lt;/span&gt;).length)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    showInformation(&lt;span class=&quot;string&quot;&gt;&quot;今日已经领取过了&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    GM_setValue(&lt;span class=&quot;string&quot;&gt;&quot;sign&quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;().getUTCDate() + &lt;span class=&quot;string&quot;&gt;&quot;:&quot;&lt;/span&gt; + userId);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    showInformation(&lt;span class=&quot;string&quot;&gt;&quot;无法找到领奖按钮，请检查&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;onerror&quot;&lt;/span&gt; : &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;showInformation(&lt;span class=&quot;string&quot;&gt;&quot;签到页面无法打开，请手动领取&quot;&lt;/span&gt;);&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;本来打算上个月发的，一直没管博客，不管是啥来凑个文章数吧，刚学js仿照别人的脚本改写的签到脚本&lt;/p&gt;
&lt;p&gt;顺便说一下，写脚本真的很有趣，更有趣的是打开网页的时候Greasemonkey可以运行自己写的脚本，就酱紫&lt;/p&gt;
&lt;p&gt;凑字数完毕→_→&lt;/p&gt;
&lt;p&gt;哦，情人节！！！&lt;/p&gt;
    
    </summary>
    
      <category term="伪技术" scheme="http://ficapy.com/categories/%E4%BC%AA%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="javascript, V2EX, 签到" scheme="http://ficapy.com/tags/javascript-V2EX-%E7%AD%BE%E5%88%B0/"/>
    
  </entry>
  
  <entry>
    <title>利用selenium抓取OA数据生成综合图表</title>
    <link href="http://ficapy.com/2014/06/09/use_selenium_fetch_OA_generate_statistics_image/"/>
    <id>http://ficapy.com/2014/06/09/use_selenium_fetch_OA_generate_statistics_image/</id>
    <published>2014-06-09T14:21:00.000Z</published>
    <updated>2016-03-03T09:13:55.000Z</updated>
    
    <content type="html">&lt;p&gt;最近自己写了个小项目练手，原由是偶尔有需要登录公司OA看看发给领导批示的文件到哪一步了，文件不是特别多，但是流程比较多，需要的时间比较长。&lt;br&gt;总结一下该OA系统的特征：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;出于安全措施考虑，采用了内网登录，首先需要连接深信服SSLVPN登录到系统内网才能操作。直接导致常规的使用requests等模拟登陆手段直接失效。&lt;/li&gt;
&lt;li&gt;需安装java等套件，设置信任等等一系列麻烦操作，对非IE浏览器几近无法成功浏览（俺试过多次），即使对于IE也不支持高版本，不过好像一直在升级，也不知是否有改进。&lt;/li&gt;
&lt;li&gt;系统性能不佳，反应巨慢，异常返回情况比较多。&lt;/li&gt;
&lt;/ul&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;最后选择了使用python+selenium+IEdriver控制IE浏览器登陆系统抓取OA数据，不得不说这是一个痛苦的过程selenium对IE的支持异常差，支持最好的firefox以及速度最快的chrome都无法在该例中使用。这直接造成了几乎每一步模拟操作都要加一句time.sleep(3)进行等待操作，以免返回异常或者没有抓取到数据。最开始的时候我直接全模拟手工操作一步步进入需要抓取的页面（OA是frame里面套frame），结果浏览器经常运行不久就报告崩溃。山穷水尽疑无路，柳暗花明又一村，最终发现登陆后直接打开要抓取frame页面的地址就可以了，这一步让整个抓取数据的工作以及稳定性提高的不少&lt;br&gt;整个流程比较简单。模拟登陆→抓取数据→把数据存储到数据库（sqlite）→利用matplotlib把数据库的内容生成图表&lt;br&gt;在登录OA的时候会要求填入验证码，虽然目测该系统验证码比较弱智，但是俺目前的水平还是破不了。so。本着力求无人操作全自动的原则使用了在线打码服务。不得不吐槽一下，试了2家，联系了客服，第一家流程复杂的不得了，和技术人员折腾半天最后还是不了了之，俺的要求多简单啊，结果一定要搞啥开发者分成路线。另外一家流程倒是简单了很多，结果网站给的示例教程还是前一个网站没更新无法使用，找客服要了一个新的示例文件，根本无法运行。问客服，得到的答复是技术人员测试使用完全没问题,WQNMLGB。示例是用urllib写的上传文件操作。潇潇洒洒上百行。没办法自己用requests重新写了下20行搞定，嗯，感叹下http&lt;br&gt;for humans的称号果然不是白喊的&amp;gt;_&amp;lt;&lt;br&gt;最后抓取到数据就是可视化的过程啦，以前只听过matplotlib库生成牛X的图表。试过之后还不错，还好比较知名案例比较多，否则真不知道要折腾多久才能搞出来，借鉴了stackoverflow上面的一个回答看了下官网的一些文档东拼西凑生成了个看的过去的图表，如下图（嗯，打了点薄码）&lt;img src=&quot;https://ficapy.b0.upaiyun.com/blogimg/2014-06-05.png&quot; alt=&quot;2014-06-05&quot;&gt;&lt;br&gt;以下是录制的视频，上传到youku就成渣画质了，想看的还是忍忍吧（注：由于录屏操作导致selenium无法正常截取验证码，最后用手工输入）密码:zoulei&lt;/p&gt;
&lt;embed width=&quot;480&quot; height=&quot;400&quot; type=&quot;application/x-shockwave-flash&quot; src=&quot;http://player.youku.com/player.php/sid/XNzIzNTMxOTA4/v.swf&quot; allowfullscreen=&quot;allowfullscreen&quot; quality=&quot;high&quot; align=&quot;middle&quot; allowscriptaccess=&quot;always&quot;&gt;&lt;/embed&gt;

&lt;p&gt;以下是github地址 &lt;a href=&quot;https://github.com/aec4d/OA_Fetch&quot;&gt;https://github.com/aec4d/OA_Fetch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;p.s由于暂时还不会打包，尝试使用pyinstall打包成exe文件失败。so如果想直接双击使用还是需要很费功夫的，需要安装&lt;br&gt;&lt;a href=&quot;http://www.lfd.uci.edu/~gohlke/pythonlibs/#matplotlib&quot;&gt;matplotlib&lt;/a&gt;，&lt;a href=&quot;http://docs.seleniumhq.org/&quot;&gt;selenium&lt;/a&gt;（IEdriver）&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;最近自己写了个小项目练手，原由是偶尔有需要登录公司OA看看发给领导批示的文件到哪一步了，文件不是特别多，但是流程比较多，需要的时间比较长。&lt;br&gt;总结一下该OA系统的特征：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;出于安全措施考虑，采用了内网登录，首先需要连接深信服SSLVPN登录到系统内网才能操作。直接导致常规的使用requests等模拟登陆手段直接失效。&lt;/li&gt;
&lt;li&gt;需安装java等套件，设置信任等等一系列麻烦操作，对非IE浏览器几近无法成功浏览（俺试过多次），即使对于IE也不支持高版本，不过好像一直在升级，也不知是否有改进。&lt;/li&gt;
&lt;li&gt;系统性能不佳，反应巨慢，异常返回情况比较多。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="伪技术" scheme="http://ficapy.com/categories/%E4%BC%AA%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="matplotlib, python, selenium" scheme="http://ficapy.com/tags/matplotlib-python-selenium/"/>
    
  </entry>
  
  <entry>
    <title>python安装exe包到虚拟环境</title>
    <link href="http://ficapy.com/2014/05/31/python_install_exe_package_to_virtualenv/"/>
    <id>http://ficapy.com/2014/05/31/python_install_exe_package_to_virtualenv/</id>
    <published>2014-05-31T15:40:00.000Z</published>
    <updated>2016-03-03T09:13:47.000Z</updated>
    
    <content type="html">&lt;p&gt;明天都儿童节了，要和五月份说再见了。这个月居然一篇博文都没有写，甚是惭愧&amp;gt;_&amp;lt;赶紧写一篇补上&lt;br&gt;python通常使用pip安装第三方库，如果你安装的库比较多总会遇到一些恼人的安装问题（如果安装了VC2008或许会好很多），所以像我等小白安装一些比较复杂的库的时候甚是喜欢用exe包进行安装~~~~~~谁让从小就习惯了windows的下一步这种操作呢&lt;br&gt;附上大名鼎鼎的python第三方哭二进制包下载地址：&lt;a href=&quot;www.lfd.uci.edu/~gohlke/pythonlibs/&quot;&gt;www.lfd.uci.edu/~gohlke/pythonlibs/&lt;/a&gt;&lt;br&gt;当项目越来越多的时候，我们一定会使用虚拟环境virtualenv来管理我们的包（可以见&lt;a href=&quot;http://www.reddit.com/r/Python/comments/26t245/how_do_you_python/http://&quot;&gt;reddit上的讨论&lt;/a&gt;），让各项目间的第三方库不至于混乱发生不兼容之类的悲剧&lt;/p&gt;
&lt;p&gt;但是当你想将打包好的二进制exe包安装到你的虚拟环境的时候可能你会遇到问题了，因为它不提供安装到哪个虚拟环境，只会安装到你的主环境中~~~~~~~好吧，这也算是一种悲剧，方便的exe打包文件居然无法配合virtualenv使用，难道只能在我大中华局域网使用蛋疼的pip。不知道是否火星了没，下面就是答案→_→&lt;br&gt;照搬别人的&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;img src=&quot;https://ficapy.b0.upaiyun.com/blogimg/virtualenv.jpg&quot; alt=&quot;&quot;&gt;使用winrar打开下载的exe文件会发现有2个文件夹PLATLIB和SCRIPTS&lt;/p&gt;
&lt;p&gt;将PLATLIB文件夹里面的内容全部复制到虚拟环境XXXX\Lib\site-packages中，将SCRIPTS文件夹的全部内容复制到XXXX&lt;span
id=&quot;crayon-5389f59639b1c172241163&quot;
class=&quot;crayon-syntax crayon-syntax-inline crayon-theme-tomorrow crayon-theme-tomorrow-inline crayon-font-droid-sans-mono&quot;
style=&quot;font-size: 15px !important; line-height: 17px !important;&quot;&gt;&lt;span
class=&quot;crayon-pre crayon-code&quot;
style=&quot;font-size: 15px !important; line-height: 17px !important;&quot;&gt;\Scripts&lt;/span&gt;&lt;/span&gt;文件夹下，最后试试导入库看是否成功~bingo&lt;br&gt;就是这么简单&lt;/p&gt;
&lt;p&gt;参考：&lt;a href=&quot;http://www.laurivan.com/install-numpy-in-a-virtual-environment-on-windows/&quot;&gt;http://www.laurivan.com/install-numpy-in-a-virtual-environment-on-windows/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;明天都儿童节了，要和五月份说再见了。这个月居然一篇博文都没有写，甚是惭愧&amp;gt;_&amp;lt;赶紧写一篇补上&lt;br&gt;python通常使用pip安装第三方库，如果你安装的库比较多总会遇到一些恼人的安装问题（如果安装了VC2008或许会好很多），所以像我等小白安装一些比较复杂的库的时候甚是喜欢用exe包进行安装~~~~~~谁让从小就习惯了windows的下一步这种操作呢&lt;br&gt;附上大名鼎鼎的python第三方哭二进制包下载地址：&lt;a href=&quot;www.lfd.uci.edu/~gohlke/pythonlibs/&quot;&gt;www.lfd.uci.edu/~gohlke/pythonlibs/&lt;/a&gt;&lt;br&gt;当项目越来越多的时候，我们一定会使用虚拟环境virtualenv来管理我们的包（可以见&lt;a href=&quot;http://www.reddit.com/r/Python/comments/26t245/how_do_you_python/http://&quot;&gt;reddit上的讨论&lt;/a&gt;），让各项目间的第三方库不至于混乱发生不兼容之类的悲剧&lt;/p&gt;
&lt;p&gt;但是当你想将打包好的二进制exe包安装到你的虚拟环境的时候可能你会遇到问题了，因为它不提供安装到哪个虚拟环境，只会安装到你的主环境中~~~~~~~好吧，这也算是一种悲剧，方便的exe打包文件居然无法配合virtualenv使用，难道只能在我大中华局域网使用蛋疼的pip。不知道是否火星了没，下面就是答案→_→&lt;br&gt;照搬别人的&lt;/p&gt;
    
    </summary>
    
      <category term="伪技术" scheme="http://ficapy.com/categories/%E4%BC%AA%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="exe, python, virtualenv, 虚拟环境" scheme="http://ficapy.com/tags/exe-python-virtualenv-%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/"/>
    
  </entry>
  
  <entry>
    <title>python简单实现网站打卡签到</title>
    <link href="http://ficapy.com/2014/04/21/python_implement_login_and_check_in/"/>
    <id>http://ficapy.com/2014/04/21/python_implement_login_and_check_in/</id>
    <published>2014-04-21T14:07:00.000Z</published>
    <updated>2016-03-03T09:15:04.000Z</updated>
    
    <content type="html">&lt;p&gt;断断续续学习python也有一段时间，偶尔也会有点小想法。和当年疯狂的挂QQ升级一样，也有很多人对论坛的每日打卡签到比较痴迷。我当年也会有去论坛打卡的习惯，时至今日虽然对打卡签到不再执着，但自学编程这条寂寞的路能用它来完成偶尔的一些小想法无疑是让我兴奋的。我有很多小想法，呵呵~~~每日自动打卡签到就是其中的一个，而且实现这个也是异常简单的事情。所以公开在俺博客的第一个python脚本就选它了。网站选择了一个网友的作为测试&lt;a href=&quot;http://bbs.hshy.net/&quot;&gt;http://bbs.hshy.net/&lt;/a&gt;&lt;br&gt;p.s. 该网站已关闭注册&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;至于实现原理，就是先使用fiddler抓取登陆和打卡的网址及参数，用python的requests模块实现构造请求网址以及对网址进行POST和GET操作&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ficapy.b0.upaiyun.com/blogimg/fiddler.png&quot; alt=&quot;fiddler&quot;&gt;&lt;/p&gt;
&lt;p&gt;中间需要注意的一些小细节：&lt;/p&gt;
&lt;p&gt;①fiddler搜索功能很强大，在所有会话中快速找到某个参数是如何来的很有用；&lt;/p&gt;
&lt;p&gt;②进行登陆POST操作的时候如果用户名是中文，需要先解码，这个例子里面是GBK（当初困扰了我一些时间），密码进行了MD5加密；&lt;/p&gt;
&lt;p&gt;③针对签到失败的处理，本例可选使用nexmo发送短信提醒  &lt;/p&gt;
&lt;script src=&quot;https://gist.github.com/Ficapy/11130233.js&quot;&gt;&lt;/script&gt; 

&lt;p&gt;在ubuntu远程VPS下的使用：&lt;/p&gt;
&lt;p&gt;先安装python-pip&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;apt-get install python-pip&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;安装python第三方模块requests&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pip install requests&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;设置定时任务(路径改成放置文件的路径)&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;crontab &lt;span class=&quot;operator&quot;&gt;-e&lt;/span&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;12&lt;/span&gt; \* \* \* python /root/XXX/hshy_checkin.py&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ok，大功告成~~~~~~从此妈妈再也不担心我天天惦记着签到打卡了&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;断断续续学习python也有一段时间，偶尔也会有点小想法。和当年疯狂的挂QQ升级一样，也有很多人对论坛的每日打卡签到比较痴迷。我当年也会有去论坛打卡的习惯，时至今日虽然对打卡签到不再执着，但自学编程这条寂寞的路能用它来完成偶尔的一些小想法无疑是让我兴奋的。我有很多小想法，呵呵~~~每日自动打卡签到就是其中的一个，而且实现这个也是异常简单的事情。所以公开在俺博客的第一个python脚本就选它了。网站选择了一个网友的作为测试&lt;a href=&quot;http://bbs.hshy.net/&quot;&gt;http://bbs.hshy.net/&lt;/a&gt;&lt;br&gt;p.s. 该网站已关闭注册&lt;br&gt;
    
    </summary>
    
      <category term="伪技术" scheme="http://ficapy.com/categories/%E4%BC%AA%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="python签到, 打卡" scheme="http://ficapy.com/tags/python%E7%AD%BE%E5%88%B0-%E6%89%93%E5%8D%A1/"/>
    
  </entry>
  
  <entry>
    <title>桑心有木有</title>
    <link href="http://ficapy.com/2014/03/04/fuck_day/"/>
    <id>http://ficapy.com/2014/03/04/fuck_day/</id>
    <published>2014-03-04T15:22:00.000Z</published>
    <updated>2016-03-03T09:14:47.000Z</updated>
    
    <content type="html">&lt;p&gt;当我花六百八在淘宝购买了一个总屏合成，当一个我都不舍得买的SSD离我远去，当上中下三件我超喜欢的物件给我沉痛的打击。趁着今天最后一点日子。来回忆一下今天这个让人忧伤的日子！&lt;/p&gt;
&lt;p&gt;上午，今天要坐车去质检站，40分钟路途俺早已做好了打算。300m手机流量怎够俺一个月消遣，so！就这样抽风的带上了3G无线路由器。那速度和流量还是相当可观。当我坐在凳子上填好单，起身很顺手的从后裤带掏出了手机。哦，屏幕又TM爆了啊，为什么是又！！！，毕竟是第二次&lt;br&gt;俺的心情也平静了许多。碎就碎了吧，虽然难免有些小桑心但是破镜难圆的道理俺还是明白滴。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;临近中午，回到办公室。办完了一些琐事。鬼使神差的来清理我的dropbox。因为20G的空间所剩无几。打算在本地删掉一些不大重要的材料，删掉dropbox上的全部内容以腾出空间重新上传。中午开着dropbox让它同步。下午上班的时候看到dropbox同步出现异常。点开文件夹，发现除了文件目录什么都没了，而且在网页操作不知为何只能恢复一部分文件。顿时心里一万只草泥马从心中飘过。我的工作文件可都在里面用dropbox同步哇~~~估计是dropbox删除云端的文件后本地对应的文件也会随之删除。我的逻辑是dropbox绝不会删除本地文件，只会上传&amp;gt;_&amp;lt;尼玛，才发现逻辑是不同滴，马上找个文件恢复软件来。折腾半天结果只能恢复极少数文件。看来dropbox数据擦除功能还是做的相当到位！&lt;/p&gt;
&lt;p&gt;下午。还有点沉浸在上2件事情的悲伤中，开玩笑似的想着上午中午都这么悲催，下午是不是也会有什么悲剧的事情。MLGB，果不其然起身的时候不小心把钢笔抽动了，掉在了地上。我了割草！溅了一地墨水隐约中我看到了笔尖着地。本来钢笔是不能摔的，何况是笔尖着地。好吧，拿起来的时候看着笔尖弯了有木有，还好没分叉，心碎一地有木有啊！！无奈的纠正了下有点弯的笔尖，粗细直接从EF尖变成了F尖。我第一支打算收藏N年的钢笔LAMY2000就这样还未开窍就被我损了。&lt;/p&gt;
&lt;p&gt;伤心之余难免带来深思，二次手机爆屏都是手机放错位置引起的。3G路由器和钱包放在了前面2个口袋，手机的小巧让我放在了后口袋导致了如此悲剧，重要的东西就要时刻放重要的位置，第一次爆屏从此手机不放在无法紧固的上衣口袋。第二次后应该只放在最易保护的前口袋屏幕对内吧。啊~多么痛的领悟~~~~~~~~用了2年dropbox从来没在云端删除过文件，结果第一次就发生这等悲剧，还好我笔记本中备份了大多数数据，目前联系客服中，目测问题不会多大。看来将重要文件同时备份在至少三个地方才是保护数据的必备手段，以前在网上看这个不信。现在大概是信了吧。后期准备将重要文件放在dropbox&amp;amp;copy&amp;amp;本地&lt;br&gt;and more。至于我可爱的钢笔，RIP~手感令人怀恋&lt;/p&gt;
&lt;p&gt;iphone的体验无与伦比，dropbox的便利高效谁用谁知道，一只称心的笔让写字成为一种享受，享受它们带来的高品质，也得承受它们本质的脆弱，iphone屏脆，dropbox再好自己也得‘多留一手’，精密钢笔不耐摔etc.如果你爱它、享受它你就得用心呵护它，这是今天我所失去的。也是今天我得到的~&lt;/p&gt;
&lt;p&gt;&amp;gt;_&amp;lt;总结完毕，去洗我那双许久未洗的鞋子了&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;当我花六百八在淘宝购买了一个总屏合成，当一个我都不舍得买的SSD离我远去，当上中下三件我超喜欢的物件给我沉痛的打击。趁着今天最后一点日子。来回忆一下今天这个让人忧伤的日子！&lt;/p&gt;
&lt;p&gt;上午，今天要坐车去质检站，40分钟路途俺早已做好了打算。300m手机流量怎够俺一个月消遣，so！就这样抽风的带上了3G无线路由器。那速度和流量还是相当可观。当我坐在凳子上填好单，起身很顺手的从后裤带掏出了手机。哦，屏幕又TM爆了啊，为什么是又！！！，毕竟是第二次&lt;br&gt;俺的心情也平静了许多。碎就碎了吧，虽然难免有些小桑心但是破镜难圆的道理俺还是明白滴。&lt;br&gt;
    
    </summary>
    
      <category term="随笔" scheme="http://ficapy.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>打造简洁windows</title>
    <link href="http://ficapy.com/2014/01/17/the_corrent_way_to_use_windows/"/>
    <id>http://ficapy.com/2014/01/17/the_corrent_way_to_use_windows/</id>
    <published>2014-01-17T12:03:00.000Z</published>
    <updated>2016-03-03T09:15:09.000Z</updated>
    
    <content type="html">&lt;p&gt;其实感觉自己电脑用的其实挺糟糕的，某天无意间在知乎看到一篇好帖《&lt;a href=&quot;http://www.zhihu.com/question/20491886&quot;&gt;如何优雅的使用windows&lt;/a&gt;》，个人感觉很值得一看，简直不能同意更多。之后根据里面的内容稍微更改了一下自己的使用风格，总结一下大概是这样子的&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;①尽量不要使用杀毒软件，它给你带来的“安全感”远比其带来性能损耗导致不流畅体验糟糕的多，当然你觉得要是经常上黄网，经常使用外挂，偶尔还玩点黑客软件，明白自己的电脑非常容易中病毒，可能还是需要杀毒软件。但是当一个小白花上百块钱就能让病毒加壳逃过主流杀毒软件。用杀毒软件真是太没有必要了。好好用自己的电脑，对未知文件保持警惕。不进行明知故犯的SB错误，杀毒软件是没必要安装的。&lt;/p&gt;
&lt;p&gt;②自己安装原版系统&lt;a href=&quot;http://msdn.itellyou.cn/&quot;&gt;http://msdn.itellyou.cn/&lt;/a&gt;&lt;br&gt;，没必要使用各种ghost版本，除非你是电脑维护人员，每天需要给别人安装系统。&lt;/p&gt;
&lt;p&gt;③打开windows7的备份和还原功能（大多数ghost版本都关系，而且有些优化软件也会关闭），关键时候一键还原太好用了，恢复到正常使用的状态。&lt;/p&gt;
&lt;p&gt;④对工作文件、重要文件备份到云端（推荐dropbox）方便发生各种灾难的时候能够马上恢复工作，工作文件一般是各种文档之类。各种视频、电影、AV就没必要向dropbox里面放置了（容量有限，国内各种网盘适合放这些）。&lt;/p&gt;
&lt;p&gt;⑤国内软件信奉的大概是“社会这么乱，装纯给谁看”，非流氓性质的系统辅助软件实在太少。能使用国外的坚决不适用国内。对于软件。不乏一些“我很丑但是我很温柔”的软件，比如total&lt;br&gt;commander、everything、xnview等。虽然是XP时代的外观，但是功能依旧实用。&lt;/p&gt;
&lt;p&gt;⑥这一条可能激进了点。网上总流传着这样一个段子男女电脑桌面图标和卧室的对比。桌面为了美观本来只是放置快捷方式的地方，但是从知乎上讲快捷图标放在桌面性能低下，so。删掉所有的桌面图标，使用&lt;strong&gt;RocketDock&lt;/strong&gt;放置在桌面左端。快捷打开软件放弃桌面图标十个不错的选择。我甚至删除了桌面的回收站。&lt;/p&gt;
&lt;p&gt;⑦隐藏任务栏，只对一个任务进行处理。避免分散注意力。&lt;a href=&quot;http://zyhh.me/delphi/taskbarhider.html&quot;&gt;http://zyhh.me/delphi/taskbarhider.html&lt;/a&gt;&lt;br&gt;该工具不错，值得设置为开机自启动。&lt;/p&gt;
&lt;p&gt;⑧适当使用快捷键win+1~9、alt+tab、ctrl+l等都是简化操作的必备法宝。&lt;/p&gt;
&lt;p&gt;⑨花几百块升级SSD，体验跨时代超值快感。顿时幸福感升级。&lt;/p&gt;
&lt;p&gt;.&lt;/p&gt;
&lt;p&gt;.&lt;/p&gt;
&lt;p&gt;.&lt;/p&gt;
&lt;p&gt;.&lt;/p&gt;
&lt;p&gt;.&lt;/p&gt;
&lt;p&gt;以上第一点和最后一点在我看来是重中之重~~~~~~~~~~~~~~`&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;其实感觉自己电脑用的其实挺糟糕的，某天无意间在知乎看到一篇好帖《&lt;a href=&quot;http://www.zhihu.com/question/20491886&quot;&gt;如何优雅的使用windows&lt;/a&gt;》，个人感觉很值得一看，简直不能同意更多。之后根据里面的内容稍微更改了一下自己的使用风格，总结一下大概是这样子的&lt;br&gt;
    
    </summary>
    
      <category term="随笔" scheme="http://ficapy.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>pip使用国内镜像</title>
    <link href="http://ficapy.com/2013/12/27/pip_use_china_mirror/"/>
    <id>http://ficapy.com/2013/12/27/pip_use_china_mirror/</id>
    <published>2013-12-27T10:54:00.000Z</published>
    <updated>2016-03-03T09:15:00.000Z</updated>
    
    <content type="html">&lt;p&gt;作为一个不懂不会用linux的小白却想学编程的表示很无奈，各种折腾伤不起~~~~~&lt;br&gt;用的pycharm的IDE，绝大多数时候使用pip安装第三方库的时候都是失败的。虽然有详尽的错误报告。但是真心看不懂。&lt;/p&gt;
&lt;p&gt;今日突闻可能是伟大的墙在作怪，换成国内镜像可能会有所好转。作为一个小白，发现有教程可以解决一直以来的烦心事当然是万分欣喜滴。（心里默念100遍shit）但是后来才发现这TM才是最烦心时刻的开始。于是有了下面这些折腾.&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;教程是这样的&lt;/p&gt;
&lt;p&gt;使用pip的用户可以如下配置：&lt;br&gt;在unix和macos，配置文件为: \$HOME/.pip/pip.conf&lt;br&gt;在windows上，配置文件为：%HOME%\pip\pip.ini&lt;br&gt;需要在配置文件内加上&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[global]  &amp;#10;timeout = 60  &amp;#10;index-url = http://e.pypi.python.org/simple&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;首先我在everything里面搜索pip.ini这个文件，发现没有。在google上搜索无果（最可能是姿势不对~~）,怀疑是pycharm安装的pip和原版有差异~~~删除pip文件夹后在pypi上下载安装。还是发现没有，在卸载之从&lt;a href=&quot;http://www.lfd.uci.edu/~gohlke/pythonlibs/&quot;&gt;http://www.lfd.uci.edu/~gohlke/pythonlibs/&lt;/a&gt;上下载安装。。当然还是没有~~~&lt;/p&gt;
&lt;p&gt;最终的结果是自己新建pip.ini这特么完全是超过我认知范围类了。。。。配置文件居然不在带需要自己新建，再者%HOME%\pip\pip.ini这个地址也是错的，正确的为%USERPROFILE%\pip\pip.ini。网上搜到的教程基本都是错的（估计他们都在linux上开发吧，其本质是官网的说明文档没有更新，%HOME%目测是XP时代的产物）。最后也可能会遇到&lt;code&gt;error: invalid command &amp;#39;egg_info&amp;#39;&lt;/code&gt;&lt;br&gt;这种错误 解决的方案就是&lt;code&gt;pip install --upgrade setuptools&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;参考文档&lt;br&gt;&lt;a href=&quot;http://www.pip-installer.org/en/latest/configuration.html&quot;&gt;http://www.pip-installer.org/en/latest/configuration.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://stackoverflow.com/questions/11425106/python-pip-install-fails-invalid-command-egg-info&quot;&gt;http://stackoverflow.com/questions/11425106/python-pip-install-fails-invalid-command-egg-info&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://bitbucket.org/pypa/pypi/issue/5/pipini-directory-in-windows&quot;&gt;https://bitbucket.org/pypa/pypi/issue/5/pipini-directory-in-windows&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;divLookup&quot;
style=&quot;background-color: transparent; color: #000000; position: absolute; top: 329px; left: 606px; padding: 0px; z-index: 10000; border-radius: 2px;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;


</content>
    
    <summary type="html">
    
      &lt;p&gt;作为一个不懂不会用linux的小白却想学编程的表示很无奈，各种折腾伤不起~~~~~&lt;br&gt;用的pycharm的IDE，绝大多数时候使用pip安装第三方库的时候都是失败的。虽然有详尽的错误报告。但是真心看不懂。&lt;/p&gt;
&lt;p&gt;今日突闻可能是伟大的墙在作怪，换成国内镜像可能会有所好转。作为一个小白，发现有教程可以解决一直以来的烦心事当然是万分欣喜滴。（心里默念100遍shit）但是后来才发现这TM才是最烦心时刻的开始。于是有了下面这些折腾.&lt;br&gt;
    
    </summary>
    
      <category term="伪技术" scheme="http://ficapy.com/categories/%E4%BC%AA%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>excel数字递增批量打印</title>
    <link href="http://ficapy.com/2013/12/20/excel_batch_print/"/>
    <id>http://ficapy.com/2013/12/20/excel_batch_print/</id>
    <published>2013-12-20T12:07:00.000Z</published>
    <updated>2016-03-03T09:14:42.000Z</updated>
    
    <content type="html">&lt;p&gt;工作中经常需要打印输出资料。其中又有特别多的资料打印的步骤是这样的。一个excel工作薄中有N个工作表。把所有工作表打印→替换字符”N栋”到”N+1栋”打印→替换字符”N+1栋”到”N+2栋”打印………..（所有栋号不包含4）&lt;/p&gt;
&lt;p&gt;经常一次性会打印上千张，这样一个简单的活儿却也能生出很多事儿。就像下面这样：&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;①打漏或者打重复；&lt;/p&gt;
&lt;p&gt;②打印机出差错（卡纸神马的），很可能将原本的栋号打乱影响后面的进展；&lt;/p&gt;
&lt;p&gt;③某些错误的方法方式会人为降低打印速度；&lt;/p&gt;
&lt;p&gt;④机械的重复心里说不好有一万只草泥马飘过吧，so。影响心情，不利于身心&lt;/p&gt;
&lt;p&gt;当然，以上综述4种情况在我身上都出现过。其他三种都应该是很容易体会到的，略讲一下我深有感悟的第三种情况。造成这种情况的主要原因是打印机的打印过程是&lt;br&gt;以文件为主的，打印机也在重复着一件事情—-对每一个传入到打印机的文件进行打印处理。据我粗略理解每个文件打印都有三个过程，文件传送到打印机的微处理器→打印机准备→打印机打印。如果你要打印非常多的文件前2个步骤所花费的时间不能忽略。所造成的影响就是如果你要打印1000张纸，你每次打印1张&lt;br&gt;打印1000次，和你一次性打印1000张所花费的时间有天壤之别。我以前就用1次打印1张的方式打印过（晚上加班）。每张打印时间大约15秒，一分钟打&lt;br&gt;印4张。但是打印机上的参数20ppm（每分钟打印20张）···········其主要原因就是打印机对单个文件传送和打印机预热耗费了大量时间&lt;/p&gt;
&lt;p&gt;所以，不用别的办法，&lt;strong&gt;&lt;span
style=&quot;color: #ff0000;&quot;&gt;想要打印速度快，第一重要的就是将所有需要打印的文件合成一份文件打印&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;p&gt;&lt;br&gt;以下是我采用的办法(03版本无法使用，要求excel有另存为pdf功能)：  &lt;/p&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;https://gist.github.com/ficapy/8053411.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;代 码会将每个栋号的文档输出成一个PDF（及其适合打印），最后用adobe&lt;br&gt;acrobat将所有pdf合并成单个pdf（试着合并了1000页纸，pdf大小之后9M，打印机完成能够应付）。快速打印不在话下，而且由于是单个文&lt;br&gt;件打印机卡纸之类的错误也不会出现上述问题②。所以，你需要做的只是打印机没纸的时候换纸&amp;amp;解决卡纸~~~~~~~~&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;工作中经常需要打印输出资料。其中又有特别多的资料打印的步骤是这样的。一个excel工作薄中有N个工作表。把所有工作表打印→替换字符”N栋”到”N+1栋”打印→替换字符”N+1栋”到”N+2栋”打印………..（所有栋号不包含4）&lt;/p&gt;
&lt;p&gt;经常一次性会打印上千张，这样一个简单的活儿却也能生出很多事儿。就像下面这样：&lt;br&gt;
    
    </summary>
    
      <category term="伪技术" scheme="http://ficapy.com/categories/%E4%BC%AA%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>傲梅分区助手--傻瓜化分区软件</title>
    <link href="http://ficapy.com/2013/11/28/disktool_recommend/"/>
    <id>http://ficapy.com/2013/11/28/disktool_recommend/</id>
    <published>2013-11-28T09:18:00.000Z</published>
    <updated>2016-03-03T09:14:21.000Z</updated>
    
    <content type="html">&lt;p&gt;很久没更新博客了，不能把它当做一份工作，当做爱好还得靠自己的热情更新~~~~~~导致的结果就是如此吧，稍微忙那么一点点就懒得更新博客了。最近开始自学我很久前就想踏入但是时至今日才真正踏入的领域~~~编程，学习大伙说最简单最明了的语言Python。身边没有环境自学这玩意儿就感觉痛苦多欢乐少。丫的胜利的喜悦总是被下一个未知的问题很快淹没。就吐槽这么多吧~~~希望我的第一个demo能在回家前做出来。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;好软件那么多，介绍这个不算很常用的原因就是前阵子遇到电脑C盘空间不足的问题了，办公室大伙都习惯用XP，C盘空间都是30G，可怜的我装了WIN7用了许久，不久前就发现C盘空间告急，经常逼得我清空回收站，看哪些没用的东西尽快删掉以免占用硬盘空间，用photoshop打开个大图幅的文件制作好后保存居然因为C盘空间不足出现问题，反正就是大点的软件用C盘作为缓存盘就是个杯具&amp;gt;_&amp;lt;也不知道都过这么多年了怎么还都把C盘设置成30G。&lt;/p&gt;
&lt;p&gt;win7自带的资源管理器可以进行逻辑分区的空间扩展，但是无法对主逻辑分区C盘进行扩充，而且有诸多限制。要说好处估计就是系统自带能确保数据万无一失吧。相对于另一款用来磁盘无损分区的软件ADDS。傲梅分区助手做到了足够傻瓜。据传这货本来是针对外国市场发售，但是不知为何发布了相同功能的免费中文版。而且是中文页面。麻麻再也不用担心硬着头皮去看英文教程了&amp;gt;_&amp;lt;&lt;/p&gt;
&lt;p&gt;官方网站:&lt;a href=&quot;http://www.disktool.cn/&quot;&gt;http://www.disktool.cn/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;使用教程~~~~~~都说了傻瓜化操作。此部分就略掉鸟&lt;/p&gt;
&lt;p&gt;Warning:据传所有号称无损分区的软件都不能确保数据不丢失，so，进行无损分区或者扩容C盘前请保存好重要数据。个人推荐使用dropbox~~~&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;很久没更新博客了，不能把它当做一份工作，当做爱好还得靠自己的热情更新~~~~~~导致的结果就是如此吧，稍微忙那么一点点就懒得更新博客了。最近开始自学我很久前就想踏入但是时至今日才真正踏入的领域~~~编程，学习大伙说最简单最明了的语言Python。身边没有环境自学这玩意儿就感觉痛苦多欢乐少。丫的胜利的喜悦总是被下一个未知的问题很快淹没。就吐槽这么多吧~~~希望我的第一个demo能在回家前做出来。&lt;br&gt;
    
    </summary>
    
      <category term="善用佳软" scheme="http://ficapy.com/categories/%E5%96%84%E7%94%A8%E4%BD%B3%E8%BD%AF/"/>
    
    
      <category term="C盘扩容, 傲梅分区助手, 无损分区" scheme="http://ficapy.com/tags/C%E7%9B%98%E6%89%A9%E5%AE%B9-%E5%82%B2%E6%A2%85%E5%88%86%E5%8C%BA%E5%8A%A9%E6%89%8B-%E6%97%A0%E6%8D%9F%E5%88%86%E5%8C%BA/"/>
    
  </entry>
  
  <entry>
    <title>DeskPins-窗口置顶</title>
    <link href="http://ficapy.com/2013/11/05/deskpins_top_window/"/>
    <id>http://ficapy.com/2013/11/05/deskpins_top_window/</id>
    <published>2013-11-05T00:24:00.000Z</published>
    <updated>2016-03-03T02:43:28.000Z</updated>
    
    <content type="html">&lt;p&gt;一款很古老的小工具，以至于连官网上都找不到了，google第一个下载地址如下：&lt;a href=&quot;http://deskpins.en.softonic.com/&quot;&gt;http://deskpins.en.softonic.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;窗口置顶，这玩意儿当你要在多个窗口来回切换（p.s我个人就是在多个窗口复制东西的时候才会用），而且系统默认不能全部显示的时候就非常有用了.而且它只有100KB，功能足够简单~~~当然也没有广告。也不会提示你升级。实则是办公必备之良品&amp;gt;_&amp;lt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;一款很古老的小工具，以至于连官网上都找不到了，google第一个下载地址如下：&lt;a href=&quot;http://deskpins.en.softonic.com/&quot;&gt;http://deskpins.en.softonic.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;窗口置顶，这玩意儿当你
    
    </summary>
    
      <category term="善用佳软" scheme="http://ficapy.com/categories/%E5%96%84%E7%94%A8%E4%BD%B3%E8%BD%AF/"/>
    
    
      <category term="DeskPins, 窗口置顶" scheme="http://ficapy.com/tags/DeskPins-%E7%AA%97%E5%8F%A3%E7%BD%AE%E9%A1%B6/"/>
    
  </entry>
  
  <entry>
    <title>xnview-图片查看</title>
    <link href="http://ficapy.com/2013/10/25/xnview_image_view/"/>
    <id>http://ficapy.com/2013/10/25/xnview_image_view/</id>
    <published>2013-10-25T10:16:00.000Z</published>
    <updated>2016-03-03T09:15:14.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;https://ficapy.b0.upaiyun.com/blogimg/xnview.jpg&quot; alt=&quot;xnview&quot;&gt;&lt;/p&gt;
&lt;p&gt;官网地址：&lt;a href=&quot;http://www.xnview.com&quot;&gt;http://www.xnview.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;XnView為一圖片瀏覽、轉換、編輯的多平台軟體，可改變其介面語言，亦可易其工具栏按鈕至某一程度，或以換面板方式易工具列按鈕。並支援讀取超過400種的圖檔格式及部份音频文件格式及视频文件格式，亦支援寫入75種圖片格式。提供免費的個人使用及簡易操作。可將壓縮檔以資料夾方式開啟、依EXIF及IPTC作圖片搜尋、圖片相似比對、對圖片作批次命名、格式轉換及套用影像調整，並支援無損耗旋轉。類似功能之軟體有ACDSee。—–摘自&lt;a href=&quot;http://zh.wikipedia.org/wiki/XnView&quot;&gt;维基百科&lt;/a&gt;&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;喜欢、介绍这一款软件不是因为它有多么牛X，只是因为它解决了一个我纠结很久的问题—扫描仪。我用的是一台有些年数的打印扫描一体机，奈何我装好了打印机和扫描机的驱动，死活无法扫描。直到我不想要扫描的时候总用别人的电脑，开始找共享别人扫描仪的办法。打电话问客服，答复是绝大多数机器都不支持扫描仪共享，需要另外购买工具~~~~我想大概是打印要耗费打印材料而扫描不会浪费什么材料的缘故吧。之后在网上搜了3款扫描仪共享程序。好用的没破解版。好不容易找到个有破解版的，还TM是俄语教程，装上之后发现效果奇差。&lt;/p&gt;
&lt;p&gt;本来我是不需要图片查看工具的，个人觉得专业人员才需要这个。自己的一些图片都存放的很有规律，我所需要的只是找到它并且打开。而且文件主要以TIF扫描件为主。so，windows自带图片查看器完全满足我的要求，而且在我试过的所有图片查看工具中我觉得自带的对待TIF格式（主要是多页TIF）支持是最完美的。奈何我用foxmail接收的附件很多图片方向不对&amp;gt;_&amp;lt;，用自带图片查看工具打开后无法旋转。目测原因是图片属性为只读导致。无奈之下安装多款看图工具测试-irfanview、xnview、picasa，acdsee太卡直接略过。picasa最类似自带的操作，印象有三美观（其他2个都不带aero效果）、流氓（强制列出影视之类，分类太清楚）、太卡（或许是太美导致，或许~~~），还有就是同步服务我登陆不上。悲哀~~~irfanview在三个当中算是最丑的—-xp时代的审美。之所以选择xnview，一个最重要的原因就是解决了我扫描仪的问题。别的软件包括win7自带的扫描仪都无法使用。它居然奇迹般的正常使用，虽然没有专用客户端好用（体现在无法保存设置，多页文件扫描之后还得合并）。但是那个优点太优。缺点就让我忍了吧~~~~~&lt;/p&gt;
&lt;p&gt;俺不是专业设计师。不用打开几十M的RAW图片，而且早已习惯了PSD用photoshop打开ai、cdr同，so。目测任意一个图片查看工具都能满足我的要求。图片查看器的图像还原显示能力之类的略过，谈谈我使用它的一些小细节。&lt;/p&gt;
&lt;p&gt;No.1&lt;br&gt;据说这货来自法国。反正他丫的不是国产。默认设置很逆天，很不符合P民的习惯，所以安装后的地一件事情应该就是更改它的默认设置。通用/键盘鼠标这里一定得改，否则你会立即把这个软件删掉,其次如果经常需要用它&lt;span
style=&quot;color: #ff0000;&quot;&gt;扫描文件，必须注意的是要设置写入文件，否则扫描后存储的文件相当大，比如扫描后保存为TIF，默认文件大小有4M左右，设置参数为LZW和CCCCT&lt;br&gt;G4之后只有不到100kb，图像质量损失微不可察,so。设置很重要；如果要扫描多页TIF文件，只能用文件→扫描到命令，直接点击图标扫描是做不到的（当初我扫成单张之后用软件合并。。。。效果不好而且浪费时间浪费感情）&lt;/span&gt;&amp;gt;_&amp;lt;&lt;/p&gt;
&lt;p&gt;No.2&lt;br&gt;如果你直接右键选择通过email发送，你会蛋疼的不行，至少我是，因为本职工作没做好，倒是添加了些没用的东西。我的做法是右键→打开方式→添加右键程序，之后用快捷键调用，会直接以附件形式添加到邮件客户端，满足了我的要求。&lt;/p&gt;
&lt;p&gt;No.3有一些小功能值得关注，批量处理图片、拼接图片、创建多页TIF、转换图片格式等。做的还是很不错，能代替一些小软件。在要求不高的时候值得一用。&lt;/p&gt;
&lt;p&gt;No.4&lt;br&gt;这是个免费软件。界面虽丑但是运行在老爷机上还算流畅（对比的acdsee）能做成这样没啥明处的广告而且用着还不错~~~咱知足吧！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ficapy.b0.upaiyun.com/blogimg/xnview.jpg&quot; alt=&quot;xnview&quot;&gt;&lt;/p&gt;
&lt;p&gt;官网地址：&lt;a href=&quot;http://www.xnview.com&quot;&gt;http://www.xnview.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;XnView為一圖片瀏覽、轉換、編輯的多平台軟體，可改變其介面語言，亦可易其工具栏按鈕至某一程度，或以換面板方式易工具列按鈕。並支援讀取超過400種的圖檔格式及部份音频文件格式及视频文件格式，亦支援寫入75種圖片格式。提供免費的個人使用及簡易操作。可將壓縮檔以資料夾方式開啟、依EXIF及IPTC作圖片搜尋、圖片相似比對、對圖片作批次命名、格式轉換及套用影像調整，並支援無損耗旋轉。類似功能之軟體有ACDSee。—–摘自&lt;a href=&quot;http://zh.wikipedia.org/wiki/XnView&quot;&gt;维基百科&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="善用佳软" scheme="http://ficapy.com/categories/%E5%96%84%E7%94%A8%E4%BD%B3%E8%BD%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>Snagit-截图兼图片转换软件</title>
    <link href="http://ficapy.com/2013/10/12/cputure_image_and_convert_software/"/>
    <id>http://ficapy.com/2013/10/12/cputure_image_and_convert_software/</id>
    <published>2013-10-12T11:17:00.000Z</published>
    <updated>2016-03-03T09:14:09.000Z</updated>
    
    <content type="html">&lt;p&gt;好几天没写文章了，不是因为不想写，只是被一些小问题折腾的太蛋疼了，共享扫描仪、VBA、wordpress排版、共享X墙云云，一一解决后有兴趣我会发上来~~~~&lt;/p&gt;
&lt;p&gt;今天介绍的是一款据说主打截图的软件-snagit&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ficapy.b0.upaiyun.com/blogimg/snagit.png&quot; alt=&quot;snagit&quot;&gt; 官方网站：&lt;a href=&quot;http://www.techsmith.com/&quot;&gt;http://www.techsmith.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;主界面可以看到功能全部和截图之后的处理有关，添加文字、添加各种效果等等，用图层管理用起来不错，而且目测很强调分享功能，截图插入到office、邮件、camtasia&lt;br&gt;studio甚至是youtube等等。使用起来非常容易上手。此功能略过~~~~&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;它的截图功能的定位我真的感觉很怪异，最简便截图我们会用系统自带的print&lt;br&gt;screen或者alt+print&lt;br&gt;screen。如果不用snagit的图片后期处理功能和系统自带截图没什么区别。若是要添加简便的箭头或者文本说明。用QQ也不在话下~~~~~~不在这2者之类的要用到这个软件的截图功能的人我想应该不多.就我看来，这个软件的截图功能算是小众吧。&lt;/p&gt;
&lt;p&gt;我比较喜欢的是它的另外2个功能&lt;/p&gt;
&lt;p&gt;1.图片格式转换功能，因为可选参数比较多，比较傻瓜。对于图片压缩效果立竿见影，打开也及其方便，就在右键菜单栏，对比需要调用它的截图功能需要打开软件简直太方便了。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;可批量转换，转换的时候也可以添加一些效果&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;可选格式多，可调空间大&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2.附带虚拟打印机。能够打印出来的文件就能使用它打印出各种格式的图片~~但也有个缺点,不支持A3输出。而且调用速度慢。so，一般用虚拟打印机它只能当做备胎。&lt;/p&gt;
&lt;p&gt;虽然这是一款主打截图的软件，但是我觉得图片格式转换压缩远比截图好用，用来加强photoshop的图片输出功能是一种不错的选择（吐槽下ps对图片的输出实在太坑爹了，我也没找到牛X的输出增强插件）&lt;/p&gt;
&lt;p&gt;下载地址:&lt;a href=&quot;http://user.qzone.qq.com/562844847/blog/1370396108#!app=2&amp;amp;via=QZ.HashRefresh&amp;amp;pos=1370396108&quot;&gt;http://user.qzone.qq.com/562844847/blog/1370396108#!app=2&amp;amp;via=QZ.HashRefresh&amp;amp;pos=1370396108&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;好几天没写文章了，不是因为不想写，只是被一些小问题折腾的太蛋疼了，共享扫描仪、VBA、wordpress排版、共享X墙云云，一一解决后有兴趣我会发上来~~~~&lt;/p&gt;
&lt;p&gt;今天介绍的是一款据说主打截图的软件-snagit&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ficapy.b0.upaiyun.com/blogimg/snagit.png&quot; alt=&quot;snagit&quot;&gt; 官方网站：&lt;a href=&quot;http://www.techsmith.com/&quot;&gt;http://www.techsmith.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;主界面可以看到功能全部和截图之后的处理有关，添加文字、添加各种效果等等，用图层管理用起来不错，而且目测很强调分享功能，截图插入到office、邮件、camtasia&lt;br&gt;studio甚至是youtube等等。使用起来非常容易上手。此功能略过~~~~&lt;/p&gt;
    
    </summary>
    
      <category term="善用佳软" scheme="http://ficapy.com/categories/%E5%96%84%E7%94%A8%E4%BD%B3%E8%BD%AF/"/>
    
    
      <category term="snagit, 图片格式转换" scheme="http://ficapy.com/tags/snagit-%E5%9B%BE%E7%89%87%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/"/>
    
  </entry>
  
</feed>
